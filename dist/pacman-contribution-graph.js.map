{"version":3,"file":"pacman-contribution-graph.js","mappings":"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","sources":["webpack://pacman-contribution-graph/./src/core/constants.ts","webpack://pacman-contribution-graph/./src/core/game.ts","webpack://pacman-contribution-graph/./src/core/store.ts","webpack://pacman-contribution-graph/./src/movement/ghosts-movement.ts","webpack://pacman-contribution-graph/./src/movement/movement-utils.ts","webpack://pacman-contribution-graph/./src/movement/pacman-movement.ts","webpack://pacman-contribution-graph/./src/music-player.ts","webpack://pacman-contribution-graph/./src/providers/github-contributions.ts","webpack://pacman-contribution-graph/./src/providers/gitlab-contributions.ts","webpack://pacman-contribution-graph/./src/providers/providers.ts","webpack://pacman-contribution-graph/./src/renderers/canvas.ts","webpack://pacman-contribution-graph/./src/renderers/renderer-units.ts","webpack://pacman-contribution-graph/./src/renderers/svg.ts","webpack://pacman-contribution-graph/./src/types.ts","webpack://pacman-contribution-graph/./src/utils/grid.ts","webpack://pacman-contribution-graph/./src/utils/utils.ts","webpack://pacman-contribution-graph/webpack/bootstrap","webpack://pacman-contribution-graph/webpack/runtime/define property getters","webpack://pacman-contribution-graph/webpack/runtime/hasOwnProperty shorthand","webpack://pacman-contribution-graph/webpack/runtime/make namespace object","webpack://pacman-contribution-graph/./src/index.ts"],"sourcesContent":["import { GameTheme, GhostName, ThemeKeys } from '../types';\n\n/*  General settings  */\nexport const CELL_SIZE = 20;\nexport const GAP_SIZE = 2;\nexport const GRID_WIDTH = 53; // 52 weeks + current week\nexport const GRID_HEIGHT = 7; // Sun  Sat\n\nexport const PACMAN_COLOR = 'yellow';\nexport const PACMAN_COLOR_POWERUP = 'red';\nexport const PACMAN_COLOR_DEAD = '#80808064';\n\nexport const GHOST_NAMES: GhostName[] = ['blinky', 'clyde', 'inky', 'pinky', 'eyes'];\n\nexport const MONTHS = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n\nexport const DELTA_TIME = 200;\nexport const PACMAN_DEATH_DURATION = 10;\nexport const PACMAN_POWERUP_DURATION = 15;\n\n/*  Official GitHub Palettes \n   5-color array: 0 = NONE  4 = FOURTH_QUARTILE          */\nconst GITHUB_LIGHT = ['#ebedf0', '#9be9a8', '#40c463', '#30a14e', '#216e39'];\nconst GITHUB_DARK = ['#161b22', '#0e4429', '#006d32', '#26a641', '#39d353'];\nconst GITLAB_LIGHT = ['#ececef', '#d2dcff', '#7992f5', '#4e65cd', '#303470'];\nconst GITLAB_DARK = ['#2a2a3d', '#4a5bdc', '#2e3dbf', '#1b2e8a', '#0f1a4e'];\n\n/*  Game Themes  */\nexport const GAME_THEMES: { [key in ThemeKeys]: GameTheme } = {\n\t/* ---------- GitHub ---------- */\n\tgithub: {\n\t\ttextColor: '#57606a',\n\t\tgridBackground: '#ffffff',\n\t\twallColor: '#000000',\n\t\tintensityColors: GITHUB_LIGHT\n\t},\n\t'github-dark': {\n\t\ttextColor: '#8b949e',\n\t\tgridBackground: '#0d1117',\n\t\twallColor: '#ffffff',\n\t\tintensityColors: GITHUB_DARK\n\t},\n\n\t/* ---------- GitLab ---------- */\n\tgitlab: {\n\t\ttextColor: '#626167',\n\t\tgridBackground: '#ffffff',\n\t\twallColor: '#000000',\n\t\tintensityColors: GITLAB_LIGHT\n\t},\n\t'gitlab-dark': {\n\t\ttextColor: '#999999',\n\t\tgridBackground: '#1f1f1f',\n\t\twallColor: '#ffffff',\n\t\tintensityColors: GITLAB_DARK\n\t}\n};\n\nexport const GHOSTS: {\n\t[key in GhostName | 'scared']: { [direction in 'up' | 'down' | 'left' | 'right']?: string } | { imgDate: string };\n} = {\n\tblinky: {\n\t\tup: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABiklEQVR4nIXSO2sVURQF4G8mMwa8QU2KxFcjCoIgacR/oCBYCP4fsTEIBkWwEK21UAQLIdjYaKEiJIXBXhNBCFaSeDP3zLa4mdyj5rHgwNmPtffZ62z+Q4miKHlWs3yALwUvKYphbC8UjDN3nIUB/SCCSDRnWKiZVxTFrvxp5kMRHbEltaTODuIED3YkT3FnUy+uS815qQkzMSJOxAWpuSo1A72Y4f5f5DFuBpE+vmsmZ9ukF9Eu/xwV+Pw1TEYcOtum9GmxCaLmdl7jeRDp968mcnQFMqS02bSkMV5tS36UBL6t7ixO6o/uK6sKymM0Q9l5NKC/Ldb3lWGrqenRCw73hr61H9viDujjKbztnLnae50uF4sl1nf91/2xvt9q7YuyEwKCNg+2DFoGue/fnHLoGwbyZQ/akqqkykkFZW6XmNy6VJdYyhPP8eE07/PCl1kqqbbMI3BrjY1rvMH4SW4kmou86Eac5UmiOcUcxq/wep2NirugYh4TXfOah6izUauax5leB2vuwR+e2vAshd8i9AAAAABJRU5ErkJggg==',\n\t\tdown: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABmUlEQVR4nHXTT0tUYRQG8N97/TOloSYpYv/BNlLYqqJli1Z9gz5SOwkKgpDaRBS5CKJ2fYFWrsyNZWKSOYliw8y9p8XMHa+Tc+ByOec8z/M+7z3nJidHwhtc7ORreIjog29H1iYunmc5iPIpyGd5h0cd8ZNPvcLzXmJBXq1N8/g/kSSlyywFkdPMaVZJvfVZnkhHImmSZyWol9jrqMSMsti5tmhwJyhSO+8bZT8ogrulQDbDQZe8/ZPt38eZA9jbZ2OjKzTFPpJxPrdoBFFsruVRxq+tI/v1nW45vn2NIFo0TvMxTdLcYRBt+DHPne/Up36GvaygDn+p17+srp+d59S1KHyvXOPHgaFLTC9gfUtQdDp/TLAbRJPDQ2O7cyIuiAgzlQlcjSkR8yLCWJS7McJGV6Df2HoXqZqPsJmVdk56J7JEVrGsmida2TATZeM+q+U4E9kcKzdYqe7Hg+OYcdN8atG41f5Zagu8KMhv8rbck9u8L8iv8xS1e3xo0TjHMgyM8BJDnUMGa7xWjrYdQ8O8cuSkNsoSsn/EzgO2a6zxyAAAAABJRU5ErkJggg==',\n\t\tleft: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABzklEQVR4nIWSy2tTURCHvzNnzk0TS21sQluhq4Kb+sAH4qrgyoV/oNuCUIogEUGKf4DoolBFfCC4sYKgDVXig/Tec8ZF7k1uo9GBWczvnN8H84DpcM6h6ruw14VBBwZdeIX3inPuj//18FkmS/jtDdgvYGhgBhYhvwwv2khPs8z/3R2CnIcHlWlWXsXvMleDOEBVZaM0R8gTxGljghghN7BLyK4PwY/6UeUsbNuZlsVvn3JLyWz+1MTc8mbHP8x+HpmpWgVZhh5OKsbc0/6bgxhjzM3MbDicAN4f2jj6fUsQE8R52McBrcz7VbpPaJmxWALMxoBOMPMrE0bV3hXYC42grMCziOY3SJG18lf+fQxYx6y1XupfP1t9M6vwkjZ8GQ3JR3t3YHY8MGvWZsBpsw99s8GhmZwcbBd+sQQf/7e6WdmBIynKdRqkf17ZjBCrFdMQg5SgmNbqNySuFAySGwFP1AI6rVW1g0KANoCA3oK3DqR8lIvw/Bzs17Xb8LqqBTosI70ChjfhEVnWuIC/EyHfhIc4L2jmrqH3IuTX0S2azcYmcr+A4RrymCwEafuwJaoNAB+CLKjuiGoY9+q9XxDdcSF4AFEJiyJ3QwjyGx0DPZpbZTAYAAAAAElFTkSuQmCC',\n\t\tright: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABp0lEQVR4nI3TO2tUQRQH8N+9e9eg0YBBlwR8gNHKRqz8Amph4zcSBCWgEBALQbAU0U4EUewsfDQJNuIDiaAkSNhCY3Rz79xjsdndaxKDB6aYM//HzDln2DayrMXDgrct3hXcR7Y9dhMT14/wNFEGEURFb5onuLKjzDQ3B6QgalJNauamuLYt+SA3gkiUTffBauYPbBbJmB2AalJ8+Ryx2o1oN0Qm9kSdeim9Xyh/FFm0uNzUeFSTEmUsfoxhLC6NBNbXIyIipVR+fTGf8AAKZB2qjDyoHZ0B+04wvjJleWDRbisTuzponcon5Om7OoN7Fb1hsVY+RUTE2PGIw2J0g6jjd0TYG3FBnSp6uAPzg4oPwd1vEUvdCJ2RwNRk/1mvPwyxeF5gbUtLJjtb27TcJdsyBGs58n+Mxf9E6y9yUDf3NVVNtQOmzm0Agjpr3Cb6h0VO0SQNu9WPlGNS/x3FWRaawBlenuRVU/g8b/J++2G/grlVfp3jMcaOMZsoT3O3ryM/w4OK3iEuYewiz9b4iasDtznsHpi3uG3kAu2CW0Zfery98R/+AA8N/U/uOBf2AAAAAElFTkSuQmCC'\n\t},\n\tpinky: {\n\t\tup: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACkElEQVR4nG2TT2hcVRTGf/fc+2bey4xJk9hoXGlMES0uCoVoF4IWW1BEkWBB6lKwEPBPLXUlhYIYEiouRDdSsGDalJYmrtIuhECLC0MQIaWmgo2RJo0WMmn+zMy997h4aScTenbn+8453+E798L2EECMFHDjCWbRwoLDTmBEcrI5TFNiDWVjhtJgX549fGV3W+nplKisV+dqu344+NuKrP1SMeZDfNSHDsgonprq//njZ7v2QpJAYZOoAhswW5lm37mXvvlX7w00rZEkiSlRHLz5/mXd1xbqEOr6kaoeq6l+qqqfqEKoP1/21bkPJrWMG7bW5uLGGIDj1/svqq/4as+LqjjVym1V/TKqnlBdW1ClRfWJPap+xVf/endcgc+NMThVBejY6UrQAn9e27JazUCA7DHQ1RwKAbq0FaBTVRFxTtpNKU1dEe5us7gG1IGwBVuGLEnoIMuMtWKAL268ef5Y73NvI8E7jhagCxhSmN/0uLsOx5Nc4NQaUVN/64+f6Lnw1rcOKJVc0WHwrCYwCFiFumncaDGBzzxEB7UClKHVpA4oOSCEGPNCFyFY8Kb5wApsuM3D50RdPECQBgSEmDc2gIYBFhAFzcVMFADbeJsKMbVeVSOqoEpIqYUitTwPqBJjwXoCaN4aBfAh+BjT6OXO786YuqgQY6rezk0VZP7XQiyqRyxGosidaRez6GMIEfACdO7IOsUt/Zc+dfbA2MTMdzVTNrJy+6orjPSdcT++cHr5n0lHBpMz3/snR1+95Jb+TtvTRwR4FOCNM6+cXOorPTMKOIF3xl77er3btn8FgMDjbufQ+OvDVYH3ALen3Ds6sv/EMtB/34FDQEtusgE4wpa/K4IAAyIPoIx8GP8DW7gOkh3Y7ZsAAAAASUVORK5CYII=',\n\t\tdown: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACZ0lEQVR4nHWRy4vNYRjHP8/ze885c+GIuTSZxriMS6KkKeQSK0lRDAsbthaTzSyUqYlhxYIsJkTNiGYh+RMYKRFTM5Fxq8ll3BriMOac3+95LM45GYOn3sX79n2/l+cL/58e4CkwAtwFwr9A8tfNOQJsernr2toFtauyFPIgORp7tw68TT6PAgcA+zcBdD7be6O7pXYDVNbgkVsRJEruPR6/puH85hsfyO0uk0gJgOOdT3b1d7csbctLQVRjDXhZxrHgMQH041Cov7jx+kdye0TERERw90PDOy6fXr5yXyxfRcVRomnmzADHqiTWT4Mhc7H1ch72q7sDNC+qnI/FFkslyhwB8d+f3SBL8RTAq5otDysA11IMicSQClE6BI4CS7yYUoB6h2MKxyOYC1JItEGyeSAC6B7c2Tdhhy3xN/7nnHD3jrz7xJQ3c7cuS5L99wsKdxRoakrXVzhu1JTilt1nAI+gYlrVATQ1NxgsUyA/GSfgwBdYvB4ihVfPgRQgCuOgjSDV4O9AIlFsEmBCAfEIUOBsQsNIUajpFPCmALHDSWgag+wPkFPANyAogAbABcDBc2q396HFtYJZFBMc/S5htL0UL7ZYEBUxBUyBxA085Sb510rKIICn3fTHWNBvo4FM0aFn3PTnWPCUW0k2VmDWjFSGKCHdemXL0IMXvUYFyM9Xurh39aCcWziQez8AlWDjD3VZ3+pBHX8USGcB6gDab23r+by9dt09oErg4HDb1ck1M5feLK2RaqIzI3v7JxeEuj4gPU9nX3rc1j+RRq6Wy+kCaqeUdQaYMa28C2XCYpH0iKC/AKR7DJ4ZSbreAAAAAElFTkSuQmCC',\n\t\tleft: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACnklEQVR4nG2TTYiVZRTHf+c8z/vee+emNVycYBocHAqGEN3IgEgg7bIZBir72CW2aNEERZiK6Ci4sNrooi9q02KaZhYubNGuhVEkLcqmLkhpwgwqRGBzZ+6d+77POS7uxUw8yz+HP/+Pc+C+EREIIsAc8AdwBVhEEOT+bf4PxTySinQid9+z8vKFpxoDT1RB+KdzrTM69+zFDuknsni0LMoHEAhkzuzV/V+fGNmyC2qP4sENQLqirK9wa+0XHv9q+kzL7DBm9xCoImbHf33x/Mnx8amurIlqVyOSIAnUFcus9MLtxl/f5FsXJk+6yCzufc/wxqVXvvC0lgozS3624z6T3Gfc/T1zd3dvuduxjVQeKjeaz8078I6IoO4OMMaBHXjFTUSUNyswBNQcXu27rIO8nSsK45VRgG3ujoYsyAC5TDyzkxhh5UY/k0zgtlAZhXxrHxsEHNCe/xijaCrS4e9e+Pz1fQ+7Qcgl7y+XBgapfU9N6xDakvtju+3n5+deK8vytAIjw9aoXjjo5k0YbgAfJripUIXyXeg2gQ7wfgHJ8MxtRBs5MBKBdpE2oArMlUCA1dDrR7yn5IMAXevhwcGgSwGwHgHtSQb+TSCxh4iDOxQKfwOiEB3KBATUBSBEQFx64XiWmxgKBg6WU4KjySMGJMFDNMzvxqJAwhzP3WT9poJDVDyKaet61Nb16CoGCkGQ9rJ65ma9I00K1DfHOqFb5hOLey83l+eNKsja7zr82Y4ft3z65PfSWlIG4M/lBXYuPH05dDv55vwhgE0AB7+d+vj29NDEJaD2SNj01tJLX7a317adBxRBx+tji7/tX9gYjLUjQG3f0MQPFyc/WQVmCCGg6DGgAaBRBfQcSOU/n5oBH/XfHGBQ4JRq5A5IWx73SeLhogAAAABJRU5ErkJggg==',\n\t\tright: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACmUlEQVR4nGWTT4iWVRTGf+fce9/vj6Nf4/hnRlEERVcuAsFw0SKRRAhSiBJXgiQiqNRCwc1AC6FsihYVtrKYWShRkkSudBNFCPkVrSSmwj/ziVoa8c3Me99zXLzfTJTP6p57D8957nnOgf9DAUECXCxgJsGdAvmWIAF9Khv5TxAChcWJpsuO6QOXtw4v29wmOzZ3P2+Y3Nm9XT3qWvRDZPxpAkWWWXp/ev/lY8uXbwfpQGvw5sDsn/jjXxn7dOf5Ho8PDm5rgpSSpOzvTL/21Zsja3bNS1tURSL3ARWIjuGZlfD37e/jxg93n38U+wdzzo6IAJz+7dVLnk/mOR8391mvcc7dT7j78dL93Xl3d6+qqnxw6ppH+EBVUXcHWDXGSN3A4wINyEB/HzAELBV4IwFQAX+8vMUyjJkZKkG0Q7MoUgIDnqm/3VoN7RXAPaAIAPT79fHZ50Z1tFiXUiCoV/7e9b2Th2zdthz6FMzUBBs2wfBCyVwBEFvAKo27Om4/7596qaz4XIHO0tCICLWCCaAHN6/Cw3FqJ/5SOFOSSvAuXDkCK6qmAsMRKDNWmxIc5oG3HaJBqRCkNquX4HQeWB4G0igVcF0YB/fa2EpgNoDZQmKNuQh9Bwev3bN/h9PAipDd3RBAK6whuWowj/giubVCxsEGRRWwbJVZy7Le60aRSgGskKx3f4x+64fCE4YKBNBeN1rLsrlZrR5WjjQ7Gh/2musv7P7ym18+nqUNVe+7OPTZ9qk0teOTmd+vKEvgxs1J1k4+fzHc+alIjSEFRgH2Tr3w1oNtnU0XgAi8cmnPRH99Y/VHSK1ziDj+9YtnyzbFUSBsbKw998Wes/8Ahxc6cABZXB2AIyISFvdMVYATMcZBTAJeB3gCWn4PpFt1S94AAAAASUVORK5CYII='\n\t},\n\tinky: {\n\t\tup: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABzklEQVR4nJWTzWtTURDFf3fyXtqSCKa1GsWPTRG6UdSVa/8pV+JK6kYh4EoIIrgRuhAMgitdWGqhdtFWq0IoIsVqQUSSZ/Jy73HxkvBin6ADA3fOnXOGmbkXCqwEBrSATWAbeGhFiYeIpdgBDY7OtfiUpHgJSbz7kjBVfQrciO3vUo7aqQe0BxlJEiF4QvDZWeLNZzF15JYrJB+bb7KZiMuDHhd8OhYZ+Vmfcs2nbOyK8vRt54YyBlCqNPja1bL3KRY8Jj3JkVu/JJCO14N/5H3K1q6Amy4rDWCvCMH/8D4NA6kfJJ8TkKQkSApS2/uUrgQsA1jknDFbH+CcfQRcCWIHO7n+vgHTLqu2A+CBciWNsz7Kz9nv90bDakv68Gf/kg4kreSH+3YvAe4Dtj8GC4iFHoLnpwSsGdD5lzdyyPoC6NpoEf9v2Q5stAcAQhhM5IQwKMRyZhACAFLALEKajPMYMI6VZRnY/PAmYuHiaw76WUvfMWZmX3LizApyGba9B4tX1jGLqABQg3K1yepWh3MLTYOIk6fvst7uMVe/5xj+zPOLj1l7n1CtXY8h5tLVZ7zY6ABLWGQOuOMgAnDOGdBgcrjxEBsNbAZYMov4DRt5NkCBfZ1GAAAAAElFTkSuQmCC',\n\t\tdown: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAB10lEQVR4nIWT3WsTURDFfzP37hrTD1QM9hPTYlP7ov6hvgcsvhSUUpD+EfUpRKEi+CRUkYgFrTakabK5d3zYTbLRiAcG7s6eM3vmsBfmQMCRpi1uLFyQVi+oVE8UdB53Bk5EcZWXrNbbXIUMM8PMuBwNqN1/C5XnDmSu2IOyvnXMsBDNq64ZtbUjnRkigogoK5u5OISMGMNf4hAyQuFqe+/QqU6GCEn1BYOC9K+vlwf1zPDJviMPxsiudkks/jekMW5aZJQ9jIA65xwbOxERRUR/AudzNFZUsbay3YhevYPqcpss37ljU8SS7R+l/kczI8ZAP2SIPxFIuthwEeDaLOpodO2cS1XVj1OKZjGEMDSzOPS+sjh2IXKuOOmOnb0GFm6DW4J3JfttIEkt1moWW2b5ugFAekDybSblTTM25qS/YsZucY4xMDIDd+Yp/6Jmkc8yfY5xBICq52uJM4UqECcvRHRCMIuoelT9jKjMyRvpILdlRuPJKd8Lmz0zlm61uHOvRVb0OmbsPD6drAW/YGH5Fe1PPbYaBykkrNWbvO8MWK8fOBABpb53yIfLPndXnzpIePDomDdf+qSLR4hzCtJU8OSBKOizP66vR/y+Ux33EnBN71P5DQllVXyQma9lAAAAAElFTkSuQmCC',\n\t\tleft: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAB4ElEQVR4nH2SvWtUURDFf3Pf24+siYkYFLRRizSaSiVi7V9g7b9hpSgogmIhipVbC0IwQrTQRgQ/CiMxCbsgxi9iIMHGENndrG/vPRZv3+atbDIwMHM4Z+65946xc1SByW791cwuSNIufIiiCOASFB8z/71FU2JTor7miSpPgKtdzgAxgCtdZ2lVSGmG4AnB9/r6uijsuRlh/WLnHLjyFea+CO8TOp12T5Rlp9PG+4TlX6JYuuGcS8VmBnCRd3VNe5/U8id284Okl5kj7xNq6wIu501Mz/xck/c+kaRaTvxc2/FUSh2G4IFnABQKDtzehzYksc8nG5spuefgqDRyJMUa2YBEwsrTUeqeO7z/1uBk8CBtbXSJWQ5LVNIBH/OPu7jSAB4AvOZ3Cs5sSZv/P56kuSDV81gInqYEzMdAky0Po47zpcFffNoGgH8BaDnAMLfDau0S6m5ArwSQQj9JYSCWC9ebJgUsZyXrzVyfqL/vOGCUYQPnYianPrP8J2M6Dh5eYv+BBXx38GoTTkx9wrmYIQDGAG7zttbgzLlXDsqMjV9j4UebieOzBpGBcWziEYsrLcYP3SpCiVNnX/BmqQHcJ45jKJTvAiMAzswwqwLF7XtaDK5q2ZWhgovvRVHMP7z+WsD4PpRYAAAAAElFTkSuQmCC',\n\t\tright: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAB1klEQVR4nI2Tu4tTURDGf2fOvUlMcAXjigpZFfGBlaAI+h/4T9nYCClslFiJLlhZbJXCJmyxrs91bdyXYLFE8UGURaImN3PG4t6blxH8YIr5+OabOXPOcUzBpeECPAAuZnRb4FqAMK2fgPce4Aa+2GTjY5dgRt+M9m9lbv4xcDuOvZtdDEixXOf9F8MsjRCUEHSYf1KjWrvv00GnEJdusvPNUE1QTYZFeagmDAY92j+NucP3GJo4l4799msqCkFbZrY7bWBmr0LQF6oJux3Dx3dlrP8SGhTVpGkjPBsrXs84VU2e7CUKPAVAxDl86RH9dMxOJtx/0ozKyCAHhzQBM/yJ5ShCABbZ+NDLl7WcCavHzCiNDLYzXiIzjgdlM+lRLLYAXrOXbTwTr5rZ1owd7JjZio1pkU4EdOlPXsjVf7yTM9OEoyuAzLrV/4KJyAQRwuCvfBY3BgECBpgFRKKRe5aLRJiFCS7P0YEAB6kAIhHnLq+z+TkzcMKR2nP2lVf47tJJOwPh7IU1yBtZFaBO680PLl1pFqBA5cB1Xm73OH1+qQBeAOaPNlh794vawp0CxCycWmR1q0up8pBsDXVwZUi/MtAACvlpXHrUhkTiMyoCbvk4dn8AgDJfwO8SCRMAAAAASUVORK5CYII='\n\t},\n\tclyde: {\n\t\tup: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACj0lEQVR4nG2TT2hUVxSHv3PunZfJm5CMiSGSaigxUDSIFv9sutBNQSiuCl1YpO2iUdAiFURKRSUBiyC6EFEsLrJQEHHdlXShiwYpVVBQpJuaVkZDdDI248x7954u5llH8MCFy3fO+fG799wrvCfUJxLz9mXgwwL97rw/HPL8feVvw3sPcLwPrv8z1W92ELPvscdfpS2Fq8BBEXmnR7q3vdjJh1OjP4wNLmMjLyOlItNGWRjk7t8pH8/OHxKRs2bWZVk9Kcw8+Ha97RgN2eRA3rKZCbPTmJ3B7Og2+6Anb32+NmR3vh4JwHfOuUJdBAc//rV/2MLS7YxqDGBmTx+anfdms8O28OcTA7OBiRhC45fszu4+A/aKCN7MCLB1zaARKxt4VRPVAPR+BNEgKzM0vpqXDXAV0RjWtTetaHpg0szwmnjSdv6aDOAplaS/ONhzMMCaQGCgr2M5SE1DVJQQxDk0tvOLj6Yqu2xkIerspx5qQBOubIdmgPoCXPuko5k/wl3amZTWZfHu7upUCOGYBzaMVpZTKxGpPYEL46AlqNc7MwrA/Bz8XIXMYGkJW0EcqzRSYNwD/xIUYgAFGssd69o16AgsFoIFb0UFQlMB/3/CigZfNFuxKNgbMQMRA3CFnoMAMaHzVouiWCaPZXKsYHTVFFYUyLCA9RB1UTyuQ80Ttea8PhdvJSLa4foCHxPymLsIZAoMURa0lvrJs/63xccJpCDzFU1PhptjP9ltedarpPDgj0q+5Vwy5+tpub/8WoEqwIm5L4cbmwfcDSAZ8kzf/2ZVa1S5WNyi29jvbtzbs7qZIgeA8merSrd+/WJlHdiHcw6PnwZ6O/9CRXFnQN/MARHpcXCqC1UVPSIi/AeSmwjoBKJbfAAAAABJRU5ErkJggg==',\n\t\tdown: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACbElEQVR4nHWSu2tUYRDFfzP37t27DzbZyOrGRyISBIPaaKNNChsbKxEEKx9EEEUUUkgKEaKCRAVfUUNasU7tH5BCQaIiEl/EmEgIebnZzd29+41FEl2DDkwz35wz35wzwv/jOrAHqAHTwDnABLCGJr8RIQJmXAJ2vz2ROt65YTmNMyajLDsGS5kqfAKu/YVZN/XK2KncjY6NFWit4ZLEABKj8l31x3yK7QNLdyO4/C+C3s+n833t++diczivTICtdgjUU1QRiN7kgpaBxXsRXGwk6Jk41XSrdd9CLCVUQPHW/c2BGc4yuPKHrJ+7X+o36FnToGvzlrIzAUl6itZXpFtTS4BQEUMtdi5TjB1wCEBX30tSFSURwtmXcGEaCh3gVsG5FrjwaSWbNyHVuqZhcW2DxxPdmSX3IFG3yoj9iWmzJ3mze56ZfWioj5l7lKtXzjdVgGEFDmxpKqcJahB2NixdgIQPosDOhnoHBEbYshACXQosEgs4hegLbXtBUlCerYBfBa8O5Sn8Ngi2AqVxRGOlqgA/FfBRD5yDwaMkPwPLkH5yBOYWIHIweJjMNwi/A0+PQVQBLwBQ/7fKMdjyRzfWW1AsC/IVBzEKWhv1F/raQWLMTToikBUDnA/EmMNCnM4GPvkZYAYDp3PqYx7WVHOSHVc8kPlAXbYaC3UViBVoIanofMbfd9tGZ95nIQCZzWt7n3vVfK02IlN5JQC+ZOm8yWudSvqEYFAAuPPuZHHpYDMvgDAHV8e7i9GuFMOAB0hRGJo4U6xtUx4DQUeCZ+9PFys+PF/zph/INNzdABA0eKfA0CohQAJ4CMgv7wr9rCokR+cAAAAASUVORK5CYII=',\n\t\tleft: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACk0lEQVR4nGWTT4jVVRTHP+fcM783b97TpzNqjDMaZTCFZBJCbqRN62jbRhGrhWW4axM0BrNIEJpwCoUGghZtbOWmbWoUEU0Jok8xCMU/U6O+p7557917T4vf82V54HsvF77nfr/33HPg/yECqgp8BzQHWEQVEXmCbv85mEmM8dhG9x3XDjVeLcbuGaos/92YnD55Z6qPnDOzj2OM/+o9rt1Qjt9+t3Kw2NCFBriQEZAeShv+vLme50+0jnTUZ8kZAH20roP5y4emDtqLxLyWSA+ki8oqSmHkp0Kc3n4nNg/UPgpZPhw+R0QQmLv+wYyn9Fs/5+XkX25zP0qJb15w97Z793fPx4uUFuhf3DfuwOHHa3Lq6vmfU0qp7+7uvuy+YO6fr3Hv3PJh3P3B+1/Q8fdxYB5ArQhSlyrP7tylYS087AJsgELhxiTS2MTGmYFMYxsSUVxQEDMTjb301aV31r++o+aZh2rBAFqQUpnUg/TIafcaoUPhz3n+dd/42zHGIwo8s3n0pi3NzpBuXaUS2vD1bmglqDfxT/ewcqENqQmLr4GDV8hbK3dHga0GdHCgehn9djskg/v3y/8RQM7C4iT0EjxYLZ1k6PcN6HUMUEShl0tCoIQPsAqsPhhcBqRyF8kAQQFFHQTyGHGYDOQKMVeIQzeAG2UHBYaNFMmOF2RdKUuIlkS9LaYrZj5CxgbKbdQD2aMDJAXWURj6V2EvzY/80vqjBjWQ63VdM8f3W47qT7JSU6pw6UI9v7IwuhRa1aJWcYA6wNzS3on27gk5DVSmRmTuylubO09XWQQVsPDyhJxu7p/o1k0Og1bfmLYfz7y5qQ28h5kRkE9AxgBCCAosgIbhlAmjAp+VUw6g4wKzqso/UZISjmIm/qIAAAAASUVORK5CYII=',\n\t\tright: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACkUlEQVR4nG2Sz4uVZRTHP+c8z33vfe+90zg/dEaZULlUEgQa1NZ/wIXQtl8bN2HRJlq4CwRhxDEZBYtpF9QiaSHtWgiioBthwCjMizk23hrTxmruve/7nNPivd7IOnB4OHCew/mezxeeDhEQkRpczODnGqzV4RohBET+2/6vQlXqxnIT27/23tT+fPL3Jm54f8L2Lv157W6yLrXa61YU9j8DVKZFz99/d/JIbfYR5Anq4I6Jo2xmsAm7Tw2//sl4DTAABYgxyjR2vnc0PxI6D0qboySfgj7IAGUI1h6Wtk/LO8f2HH4WLsQQVMaaYal/dNrTMoV/Muvut9y97/7lPvdF3E/ivtJx94ee0kaRFg/4BHyO6nj/r+xDUjpL4eX3Po4/NtzPTbkvB3fvubt7SqnodbsJ9GolPIjOoCqeKSiEDgCNXSDtGbg/A5kDOwAI22Bu7x6dknmyKFE9+YU77zxzyHcNTYcWsZsAtCchA3CHZMA9HCDX2Mlg7f1tr2alX1dgodV8FAlACXx6EMrv2Fh9wODMy9D+ER4DK68g3MW7t7m1+BzN/KYOYCECA0wABwc2H8K5lyBTsGLECfhtHc52KvJhCASMNIgVSq+afAR2kKCf/nHKk/yrgBI8x4SKQTXfq8cyyvEnBWtQWp1ybDcBa45qDzwxkgF4humvWt1CwCOmPaKuS/SAEcADpr+ESI3RwTAFZmmArtfji6fl8r3VFrRAehO64wTfZif8G++2lTps3Z7Q50/rJek2lNxIsB3g+JU35h8fmA4XQbM2fLD65sLWC634BQQFYQ7O/PDWzmJnXZZA4+4GKzfent9qwWeoKlD7CDSvRCkCp5Rq0crtQSK1jzWOvKsaFT0ZY5S/AWqkD0QparkoAAAAAElFTkSuQmCC'\n\t},\n\teyes: {\n\t\tup: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAj0lEQVR4nO2RsQ7CMAxE79K6aQCJbuztb8Af8P8rX8HaYzCChgbanZ5kyYqezjkb2MR3K02eOUdzJiBwhBCsgPWE7RcmD9YfBsCgp9zdS5Kul/Mpn50z95tzdSkAAKSYZp/7ZDzKF6XYxIUUvw12bbvKAF1VMQCvXUhSydXIjDk2kcDkjL4kF1k+4xrmH/UA3stP0Iur7f8AAAAASUVORK5CYII=',\n\t\tdown: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAm0lEQVR4nO2Ryw3CQAxE35jdEBFRAycEpUAJ9A81EBIlcMjPgazEHUbyxX47I3vhLwBiDDydUpxnQt8zgG2+kQeD1A2cTJo3JIqVzV29jod9NrCX82m3xLRt27wHTYlmY+SjquslRpJ9ZVAmDKC/wf0K0lQAuFtWddn0a88ZgAwoKKx7MdRnShxdF5hAHIc5t+Q3rp2BoRT2c3oBFX9xUA7hwq8AAAAASUVORK5CYII=',\n\t\tleft: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAuUlEQVR4nO2PvRIBQRCEu+fOIaD8RkoRKCGZwNt4fwKFcutnW2LP1tWdF6CjmdmveruBvxgGSSqOJKvgmEnM6CWYxS7hkYSVbuWdABIC9pTkI2cAeHiv3WazDPsiazWeFczDS0buQQLl0CfnrmHOb10LDHkoJxtV1cXZubyohCyyH36tVuji8vvHwJI6DltMhzNM2jqpUJqmaEdMD8YV5h3l0vHNrAf9zrjV/ARQpLrPYmYBZrWpfkwv2KllZq2VZYMAAAAASUVORK5CYII=',\n\t\tright: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAArklEQVR4nO2RsQrCMBCGv0vaUq2gIlJxEBEX6eLi5jv4/g8h0qViIpxT27S0i3M/COTCx5/cBSYAiIxBA8a8IcfEIhiRjmh7tQHi3pkAVnqpIfs4sbX8KIrdmGc6qfJCBETA+XlzZeWc73r1etIJgHXw7KjZV957Btn0A8K+26bf7vMd88izmbnl+UpVtVRVrVSvnJeLICAFkiRu51WqHjlkd05bAC7Gpv9+4wT8AASmiluJhbS5AAAAAElFTkSuQmCC'\n\t},\n\tscared: {\n\t\timgDate:\n\t\t\t'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAADCklEQVR4nFWSX2hbZRjGf993vnN60qSNXWva6JpR7f5km7qrWrVUXYt2HdOCk2FBoQiDsivxRmU3XggiKIIIuxgOpxeyKsL8A8IoaJVNrMy4Mant2qZbMxKX5k/TmJ6cfJ8Xyao+8PK8F89z8bzPK7gDIcHo+t42GGbwmzk8vwJCIi2HH4d7KfxcAgFCbGkFANIB7cH2l3exc+IVCHfRtn8Mzb/IJ6YQpSxzp94h9enSHY9CyLq5Z3If8ddO0xrrpwr4/B/tDz2PDbj37EW5x1k5PYeQSIyBHcfjxN84QzDWz0a1jNY+1n/MFqC1z0a1TKhnkH0nP2L7xE6MQSAkPH7lPJG9R6j4FXzlstkwBQADlBscAKiWabGbWZ39hJm+lxRGg59PgdFUpdrWDf1xWCvBpV8AG548CIEAXEiAl5aKmtF42RsYgyK4x8EKtSOFZMPo8SfggxfqJ7CPgAjA9Ov1JIffh2/PC0lYSJy2KKHdjmLw0gJN4W48o1FS3S7UxVfSdTYa0lXotKFQAiyp8IxmW98EAz88LBgtpnBaovU6G9kdoAZ4jaKdBnuAbgxAJTuvMEajgHXts1nzcJWLKyQ1YN2vANCqXCRQ1j5ezaNJKlosB6NrEltIbsKJ5zLXrp8rrr44ml1gyWiaSunfPs4tz54p3MAq32bZ6MljxdXr59ZvTR7NJ0kBtrQEQ7nlN09IVS7mkn/mOnp778olH3nw7t1/ZQs3f5q3bNuynIE4tIbc8MU/iqnFW8GOAztKmU3jht869XdOIYRMZyuFzy/H+jO/Ctl1wN+MdRZTiRU7cPbLth4UNDnF1T1dpczZ75vbM4lgZPaxYGSkN30VI6TgUH4FK9xNevpd2iL307J/jIzRmHySyldvo4HmZ08iWu8lIiTFxBS57ArRg6/ip6/C4VKapy9/Rug+m8gzXYzOX2DcGIYSU1uvPHTta8aN4dDcd3Q81U5wl8PI718wkl2A4eRFQg+4W+LosRhH1xZ5dPo9hAJhw8DMh4ytLdI5Ft3ShfuCDC/N/AMdtzXsl7IlxgAAAABJRU5ErkJggg=='\n\t}\n};\n\nexport const WALLS: {\n\thorizontal: { active: boolean; id: string; color?: string }[][];\n\tvertical: { active: boolean; id: string; color?: string }[][];\n} = {\n\thorizontal: Array(GRID_WIDTH + 1)\n\t\t.fill(null)\n\t\t.map(() => Array(GRID_HEIGHT + 1).fill({ active: false, id: '' })),\n\tvertical: Array(GRID_WIDTH + 1)\n\t\t.fill(null)\n\t\t.map(() => Array(GRID_HEIGHT + 1).fill({ active: false, id: '' }))\n};\n\nexport const setWall = (x: number, y: number, direction: 'horizontal' | 'vertical', lineId: string, color?: string) => {\n\tif (direction === 'horizontal') {\n\t\tif (x >= 0 && x < WALLS.horizontal.length && y >= 0 && y < WALLS.horizontal[0].length) {\n\t\t\tWALLS.horizontal[x][y] = { active: true, id: lineId, color };\n\t\t}\n\t} else {\n\t\tif (x >= 0 && x < WALLS.vertical.length && y >= 0 && y < WALLS.vertical[0].length) {\n\t\t\tWALLS.vertical[x][y] = { active: true, id: lineId, color };\n\t\t}\n\t}\n};\n\nexport const hasWall = (x: number, y: number, direction: 'up' | 'down' | 'left' | 'right'): boolean => {\n\tswitch (direction) {\n\t\tcase 'up':\n\t\t\treturn WALLS.horizontal[x][y].active;\n\t\tcase 'down':\n\t\t\treturn WALLS.horizontal[x + 1][y].active;\n\t\tcase 'left':\n\t\t\treturn WALLS.vertical[x][y].active;\n\t\tcase 'right':\n\t\t\treturn WALLS.vertical[x][y + 1].active;\n\t}\n};\n","import { GhostsMovement } from '../movement/ghosts-movement';\nimport { PacmanMovement } from '../movement/pacman-movement';\nimport { MusicPlayer, Sound } from '../music-player';\nimport { Canvas } from '../renderers/canvas';\nimport { SVG } from '../renderers/svg';\nimport { GhostName, StoreType } from '../types';\nimport { Utils } from '../utils/utils';\nimport { DELTA_TIME, PACMAN_DEATH_DURATION } from './constants';\n\n/* ---------- positioning helpers ---------- */\n\nconst placePacman = (store: StoreType) => {\n\tstore.pacman = {\n\t\tx: 0,\n\t\ty: 0,\n\t\tdirection: 'right',\n\t\tpoints: 0,\n\t\ttotalPoints: 0,\n\t\tdeadRemainingDuration: 0,\n\t\tpowerupRemainingDuration: 0,\n\t\trecentPositions: []\n\t};\n};\n\nconst placeGhosts = (store: StoreType) => {\n\tstore.ghosts = [\n\t\t{\n\t\t\tx: 26,\n\t\t\ty: 2,\n\t\t\tname: 'blinky',\n\t\t\tdirection: 'left',\n\t\t\tscared: false,\n\t\t\ttarget: undefined,\n\t\t\tinHouse: false,\n\t\t\trespawnCounter: 0,\n\t\t\tfreezeCounter: 0,\n\t\t\tjustReleasedFromHouse: false\n\t\t},\n\t\t{\n\t\t\tx: 25,\n\t\t\ty: 3,\n\t\t\tname: 'inky',\n\t\t\tdirection: 'up',\n\t\t\tscared: false,\n\t\t\ttarget: undefined,\n\t\t\tinHouse: true,\n\t\t\trespawnCounter: 0,\n\t\t\tfreezeCounter: 10,\n\t\t\tjustReleasedFromHouse: false\n\t\t},\n\t\t{\n\t\t\tx: 26,\n\t\t\ty: 3,\n\t\t\tname: 'pinky',\n\t\t\tdirection: 'down',\n\t\t\tscared: false,\n\t\t\ttarget: undefined,\n\t\t\tinHouse: true,\n\t\t\trespawnCounter: 0,\n\t\t\tfreezeCounter: 20,\n\t\t\tjustReleasedFromHouse: false\n\t\t},\n\t\t{\n\t\t\tx: 27,\n\t\t\ty: 3,\n\t\t\tname: 'clyde',\n\t\t\tdirection: 'up',\n\t\t\tscared: false,\n\t\t\ttarget: undefined,\n\t\t\tinHouse: true,\n\t\t\trespawnCounter: 0,\n\t\t\tfreezeCounter: 30,\n\t\t\tjustReleasedFromHouse: false\n\t\t}\n\t];\n\n\t// reset extras\n\tstore.ghosts.forEach((g) => {\n\t\tg.justReleasedFromHouse = false;\n\t\tg.respawnCounter = 0;\n\n\t\t// Set different directions to create an asynchronous motion effect\n\t\tif (g.inHouse) {\n\t\t\t// Distribute the initial directions so that everyone is not synchronized\n\t\t\tif (g.name === 'inky') g.direction = 'up';\n\t\t\telse if (g.name === 'pinky') g.direction = 'down';\n\t\t\telse if (g.name === 'clyde') g.direction = 'up';\n\t\t}\n\t});\n};\n\n/* ---------- main cycle ---------- */\n\nconst stopGame = async (store: StoreType) => {\n\tclearInterval(store.gameInterval as number);\n};\n\nconst startGame = async (store: StoreType) => {\n\tif (store.config.outputFormat == 'canvas') {\n\t\tstore.config.canvas = store.config.canvas;\n\t\tCanvas.resizeCanvas(store);\n\t\tCanvas.listenToSoundController(store);\n\t}\n\n\tstore.frameCount = 0;\n\tstore.gameHistory = []; // keeps clean\n\tstore.ghosts.forEach((g) => (g.scared = false));\n\n\tstore.grid = Utils.createGridFromData(store);\n\n\tconst remainingCells = () => store.grid.some((row) => row.some((cell) => cell.commitsCount > 0));\n\n\tif (remainingCells()) {\n\t\tplacePacman(store);\n\t\tplaceGhosts(store);\n\t}\n\n\tif (store.config.outputFormat == 'canvas') Canvas.drawGrid(store);\n\n\tif (store.config.outputFormat == 'canvas') {\n\t\tif (!store.config.enableSounds) {\n\t\t\tMusicPlayer.getInstance().mute();\n\t\t}\n\t\tawait MusicPlayer.getInstance().preloadSounds();\n\t\tMusicPlayer.getInstance().startDefaultSound();\n\t\tawait MusicPlayer.getInstance().play(Sound.BEGINNING);\n\t}\n\n\tif (store.config.outputFormat === 'svg') {\n\t\twhile (remainingCells()) {\n\t\t\tawait updateGame(store);\n\t\t}\n\t\t// snapshot final\n\t\tawait updateGame(store);\n\t} else {\n\t\tclearInterval(store.gameInterval as number);\n\t\tstore.gameInterval = setInterval(() => updateGame(store), DELTA_TIME * store.config.gameSpeed) as unknown as number;\n\t}\n};\n\n/* ---------- utilities ---------- */\n\nconst resetPacman = (store: StoreType) => {\n\tstore.pacman.x = 27;\n\tstore.pacman.y = 7;\n\tstore.pacman.direction = 'right';\n\tstore.pacman.recentPositions = [];\n};\n\nexport const determineGhostName = (index: number): GhostName => {\n\tconst names: GhostName[] = ['blinky', 'inky', 'pinky', 'clyde'];\n\treturn names[index % names.length];\n};\n\n/* ---------- update per frame ---------- */\n\nconst updateGame = async (store: StoreType) => {\n\tstore.frameCount++;\n\n\t/* ---- FRAME-SKIP restored ---- */\n\tif (store.frameCount % store.config.gameSpeed !== 0) {\n\t\tpushSnapshot(store);\n\t\treturn;\n\t}\n\n\t/* -------- pacman timers -------- */\n\tif (store.pacman.deadRemainingDuration > 0) {\n\t\tstore.pacman.deadRemainingDuration--;\n\t\tif (store.pacman.deadRemainingDuration === 0) {\n\t\t\tresetPacman(store);\n\t\t\tplaceGhosts(store);\n\t\t}\n\t}\n\n\tif (store.pacman.powerupRemainingDuration > 0) {\n\t\tstore.pacman.powerupRemainingDuration--;\n\t\tif (store.pacman.powerupRemainingDuration === 0) {\n\t\t\tstore.ghosts.forEach((g) => {\n\t\t\t\tif (g.name !== 'eyes') g.scared = false;\n\t\t\t});\n\t\t\tstore.pacman.points = 0;\n\t\t}\n\t}\n\n\t/* -- ghost respawn -- */\n\tstore.ghosts.forEach((ghost) => {\n\t\tif (ghost.inHouse && ghost.respawnCounter && ghost.respawnCounter > 0) {\n\t\t\tghost.respawnCounter--;\n\t\t\tif (ghost.respawnCounter === 0) {\n\t\t\t\tghost.name = ghost.originalName || determineGhostName(store.ghosts.indexOf(ghost));\n\t\t\t\tghost.inHouse = false;\n\t\t\t\tghost.scared = store.pacman.powerupRemainingDuration > 0;\n\t\t\t\tghost.justReleasedFromHouse = true;\n\t\t\t}\n\t\t}\n\t\tif (ghost.freezeCounter) {\n\t\t\tghost.freezeCounter--;\n\t\t\tif (ghost.freezeCounter === 0) {\n\t\t\t\treleaseGhostFromHouse(store, ghost.name);\n\t\t\t}\n\t\t}\n\t});\n\n\t/* -------- end of game -------- */\n\tconst remaining = store.grid.some((row) => row.some((c) => c.commitsCount > 0));\n\tif (!remaining) {\n\t\tif (store.config.outputFormat === 'svg') {\n\t\t\tconst svg = SVG.generateAnimatedSVG(store);\n\t\t\tstore.config.svgCallback(svg);\n\t\t}\n\t\tif (store.config.outputFormat == 'canvas') {\n\t\t\tCanvas.renderGameOver(store);\n\t\t\tMusicPlayer.getInstance()\n\t\t\t\t.play(Sound.BEGINNING)\n\t\t\t\t.then(() => MusicPlayer.getInstance().stopDefaultSound());\n\t\t}\n\t\tstore.config.gameOverCallback();\n\t\treturn;\n\t}\n\n\t/* -------- movements -------- */\n\tPacmanMovement.movePacman(store);\n\n\tconst cell = store.grid[store.pacman.x]?.[store.pacman.y];\n\tif (cell && cell.level === 'FOURTH_QUARTILE' && store.pacman.powerupRemainingDuration === 0) {\n\t\tstore.pacman.powerupRemainingDuration = 30;\n\t\tstore.ghosts.forEach((g) => {\n\t\t\tif (g.name !== 'eyes') g.scared = true;\n\t\t});\n\t}\n\n\tcheckCollisions(store);\n\n\tif (store.pacman.deadRemainingDuration === 0) {\n\t\tGhostsMovement.moveGhosts(store);\n\t\tcheckCollisions(store);\n\t}\n\n\tstore.pacmanMouthOpen = !store.pacmanMouthOpen;\n\n\t/* ---- single snapshot per frame ---- */\n\tpushSnapshot(store);\n\n\tif (store.config.outputFormat == 'canvas') Canvas.drawGrid(store);\n\tif (store.config.outputFormat == 'canvas') Canvas.drawPacman(store);\n\tif (store.config.outputFormat == 'canvas') Canvas.drawGhosts(store);\n\tif (store.config.outputFormat == 'canvas') Canvas.drawSoundController(store);\n};\n\n/* ---------- snapshot helper ---------- */\nconst pushSnapshot = (store: StoreType) => {\n\tstore.gameHistory.push({\n\t\tpacman: { ...store.pacman },\n\t\tghosts: store.ghosts.map((g) => ({ ...g })),\n\t\tgrid: store.grid.map((row) => row.map((col) => ({ ...col })))\n\t});\n};\n\n/* ---------- collisions & house ---------- */\n\nconst checkCollisions = (store: StoreType) => {\n\tif (store.pacman.deadRemainingDuration) return;\n\n\tstore.ghosts.forEach((ghost) => {\n\t\t// If the ghost is eyes, there should be no collision\n\t\tif (ghost.name === 'eyes') return;\n\n\t\tif (ghost.x === store.pacman.x && ghost.y === store.pacman.y) {\n\t\t\tif (store.pacman.powerupRemainingDuration && ghost.scared) {\n\t\t\t\tghost.originalName = ghost.name;\n\t\t\t\tghost.name = 'eyes';\n\t\t\t\tghost.scared = false;\n\t\t\t\tghost.target = { x: 26, y: 3 };\n\t\t\t\tstore.pacman.points += 10;\n\t\t\t} else {\n\t\t\t\tstore.pacman.points = 0;\n\t\t\t\tstore.pacman.powerupRemainingDuration = 0;\n\t\t\t\tif (store.pacman.deadRemainingDuration === 0) {\n\t\t\t\t\tstore.pacman.deadRemainingDuration = PACMAN_DEATH_DURATION;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n};\n\nconst releaseGhostFromHouse = (store: StoreType, name: GhostName) => {\n\tconst ghost = store.ghosts.find((g) => g.name === name && g.inHouse);\n\tif (ghost) {\n\t\tghost.justReleasedFromHouse = true;\n\t\tghost.y = 2;\n\t\tghost.direction = 'up';\n\t}\n};\n\nexport const Game = {\n\tstartGame,\n\tstopGame\n};\n","import { type Config, type StoreType } from '../types';\n\nexport const Store: StoreType = {\n\tframeCount: 0,\n\tcontributions: [],\n\tpacman: {\n\t\tx: 0,\n\t\ty: 0,\n\t\tdirection: 'right',\n\t\tpoints: 0,\n\t\ttotalPoints: 0,\n\t\tdeadRemainingDuration: 0,\n\t\tpowerupRemainingDuration: 0,\n\t\trecentPositions: []\n\t},\n\tghosts: [],\n\tgrid: [],\n\tmonthLabels: [],\n\tpacmanMouthOpen: true,\n\tgameInterval: 0,\n\tgameHistory: [],\n\tconfig: undefined as unknown as Config,\n\tuseGithubThemeColor: true\n};\n","import { GRID_HEIGHT, GRID_WIDTH } from '../core/constants';\nimport { Ghost, Point2d, StoreType } from '../types';\nimport { MovementUtils } from './movement-utils';\n\n// Constants for ghost behavior\nconst SCATTER_MODE_DURATION = 7; // Duration of \"scatter\" mode in seconds (frames)\nconst CHASE_MODE_DURATION = 20; // Duration of \"chase\" mode in seconds (frames)\nconst SCATTER_CORNERS: Record<string, Point2d> = {\n\tblinky: { x: GRID_WIDTH - 3, y: 0 }, // Top right corner\n\tpinky: { x: 0, y: 0 }, // Top left corner\n\tinky: { x: GRID_WIDTH - 3, y: GRID_HEIGHT - 1 }, // Bottom right corner\n\tclyde: { x: 0, y: GRID_HEIGHT - 1 } // Bottom left corner\n};\n\n// Global status of game modes\nlet currentMode = 'scatter';\nlet modeTimer = 0;\nlet dotsRemaining = 0;\n\nconst moveGhosts = (store: StoreType) => {\n\t// Calculate the total number of points remaining to define the behavior\n\tdotsRemaining = countRemainingDots(store);\n\n\t// Update game mode (scatter or chase)\n\tupdateGameMode(store);\n\n\tfor (const ghost of store.ghosts) {\n\t\t// Special logic for ghosts inside the house\n\t\tif (ghost.inHouse) {\n\t\t\tmoveGhostInHouse(ghost, store);\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (ghost.name === 'eyes') {\n\t\t\tghost.scared = false;\n\t\t}\n\n\t\t// Main movement logic\n\t\tif (ghost.scared) {\n\t\t\tmoveScaredGhost(ghost, store);\n\t\t} else if (ghost.name === 'eyes') {\n\t\t\tmoveEyesToHome(ghost, store);\n\t\t} else {\n\t\t\t// Choose behavior based on current mode\n\t\t\tif (currentMode === 'scatter') {\n\t\t\t\tmoveGhostToScatterTarget(ghost, store);\n\t\t\t} else {\n\t\t\t\tmoveGhostWithPersonality(ghost, store);\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Function to count remaining points on the grid\nconst countRemainingDots = (store: StoreType): number => {\n\tlet count = 0;\n\tfor (let x = 0; x < GRID_WIDTH; x++) {\n\t\tfor (let y = 0; y < GRID_HEIGHT; y++) {\n\t\t\tif (store.grid[x][y].level !== 'NONE') {\n\t\t\t\tcount++;\n\t\t\t}\n\t\t}\n\t}\n\treturn count;\n};\n\n// Updates game mode between \"scatter\" and \"chase\"\nconst updateGameMode = (store: StoreType) => {\n\t// If Pac-Man is powered up, do not change the mode\n\tif (store.pacman.powerupRemainingDuration > 0) return;\n\n\t// Increment the current mode timer\n\tmodeTimer++;\n\n\t// Check if it's time to change mode\n\tconst modeDuration = currentMode === 'scatter' ? SCATTER_MODE_DURATION : CHASE_MODE_DURATION;\n\n\tif (modeTimer >= modeDuration * (1000 / 200)) {\n\t\t// Converting to frames (assuming 200ms per frame)\n\t\t// Switch between scatter and chase\n\t\tcurrentMode = currentMode === 'scatter' ? 'chase' : 'scatter';\n\t\tmodeTimer = 0;\n\n\t\t// Reverse ghost direction when changing mode\n\t\tstore.ghosts.forEach((ghost) => {\n\t\t\tif (!ghost.inHouse && ghost.name !== 'eyes' && !ghost.scared) {\n\t\t\t\treverseDirection(ghost);\n\t\t\t}\n\t\t});\n\t}\n};\n\n// Function to reverse the direction of a ghost\nconst reverseDirection = (ghost: Ghost) => {\n\tswitch (ghost.direction) {\n\t\tcase 'up':\n\t\t\tghost.direction = 'down';\n\t\t\tbreak;\n\t\tcase 'down':\n\t\t\tghost.direction = 'up';\n\t\t\tbreak;\n\t\tcase 'left':\n\t\t\tghost.direction = 'right';\n\t\t\tbreak;\n\t\tcase 'right':\n\t\t\tghost.direction = 'left';\n\t\t\tbreak;\n\t}\n};\n\nconst moveGhostInHouse = (ghost: Ghost, store: StoreType) => {\n\t// If the ghost is being released, allow it to leave the house.\n\tif (ghost.justReleasedFromHouse) {\n\t\t// The ghost can only leave through the door, which is at position x=26\n\t\tif (ghost.x === 26) {\n\t\t\tghost.y = 2; // Door position\n\t\t\tghost.direction = 'up';\n\t\t\tghost.inHouse = false;\n\t\t\tghost.justReleasedFromHouse = false;\n\t\t} else {\n\t\t\t// If not in the door position, move towards it.\n\t\t\tif (ghost.x < 26) {\n\t\t\t\tghost.x += 1;\n\t\t\t\tghost.direction = 'right';\n\t\t\t} else if (ghost.x > 26) {\n\t\t\t\tghost.x -= 1;\n\t\t\t\tghost.direction = 'left';\n\t\t\t}\n\t\t}\n\t\treturn;\n\t}\n\n\t// If the ghost is in the process of respawn, just decrement the counter\n\tif (ghost.respawnCounter && ghost.respawnCounter > 0) {\n\t\tghost.respawnCounter--;\n\t\t// When the counter reaches zero, restore the ghost\n\t\tif (ghost.respawnCounter === 0) {\n\t\t\tif (ghost.originalName) {\n\t\t\t\tghost.name = ghost.originalName;\n\t\t\t\tghost.inHouse = false;\n\t\t\t\tghost.scared = store.pacman.powerupRemainingDuration > 0;\n\t\t\t}\n\t\t}\n\t\treturn;\n\t}\n\n\t// Vertical movement inside the house\n\tconst topWall = 3; // The position y=2 is where the door is\n\tconst bottomWall = 4;\n\n\t// If it is going up and hits the upper limit\n\tif (ghost.direction === 'up' && ghost.y <= topWall) {\n\t\tghost.direction = 'down';\n\t\tghost.y = topWall; // Make sure it doesn't go over the wall\n\t}\n\t// If it is going down and hits the lower limit\n\telse if (ghost.direction === 'down' && ghost.y >= bottomWall - 1) {\n\t\tghost.direction = 'up';\n\t\tghost.y = bottomWall - 1; // Make sure it doesn't go over the wall\n\t}\n\n\t// Apply movement in the current direction (discrete movement instead of fractional)\n\tif (ghost.direction === 'up') {\n\t\tghost.y -= 1; // Move up in whole increments\n\t} else {\n\t\tghost.y += 1; // Move down in whole increments\n\t}\n\n\t// If the move resulted in an invalid position, reverse\n\tif (ghost.y < topWall || ghost.y >= bottomWall) {\n\t\t// Revert to previous position\n\t\tghost.y = ghost.direction === 'up' ? topWall : bottomWall - 1;\n\t\t// Change direction\n\t\tghost.direction = ghost.direction === 'up' ? 'down' : 'up';\n\t}\n};\n\n// Move to \"scatter\" mode - each ghost goes to its corner\nconst moveGhostToScatterTarget = (ghost: Ghost, store: StoreType) => {\n\tconst target = SCATTER_CORNERS[ghost.name] || SCATTER_CORNERS['blinky'];\n\tghost.target = target;\n\n\tconst nextMove = BFSTargetLocation(ghost.x, ghost.y, target.x, target.y, ghost.direction);\n\tif (nextMove) {\n\t\tghost.x = nextMove.x;\n\t\tghost.y = nextMove.y;\n\n\t\tif (nextMove.direction) {\n\t\t\tghost.direction = nextMove.direction;\n\t\t}\n\t}\n};\n\n// When scared, ghosts move randomly but with some intelligence\nconst moveScaredGhost = (ghost: Ghost, store: StoreType) => {\n\t// Check if you already have a target or if you have already reached the current target\n\tif (!ghost.target || (ghost.x === ghost.target.x && ghost.y === ghost.target.y)) {\n\t\tghost.target = getRandomDestination(ghost.x, ghost.y);\n\t}\n\n\tconst validMoves = getValidMovesWithoutReverse(ghost);\n\tif (validMoves.length === 0) return;\n\n\t// Move toward target but with some randomness to appear \"scared\"\n\tconst dx = ghost.target.x - ghost.x;\n\tconst dy = ghost.target.y - ghost.y;\n\n\t// Filter moves that generally go toward the target but with randomness\n\tlet possibleMoves = validMoves;\n\n\t// 50% chance to choose a completely random move\n\tif (Math.random() < 0.5) {\n\t\t// Choose any valid move\n\t} else {\n\t\t// Try to choose a move that goes in the direction of the target.\n\t\tconst goodMoves = validMoves.filter((move) => {\n\t\t\tconst moveX = move[0];\n\t\t\tconst moveY = move[1];\n\t\t\treturn (dx > 0 && moveX > 0) || (dx < 0 && moveX < 0) || (dy > 0 && moveY > 0) || (dy < 0 && moveY < 0);\n\t\t});\n\n\t\t// If there are \"good\" moves, use them.\n\t\tif (goodMoves.length > 0) {\n\t\t\tpossibleMoves = goodMoves;\n\t\t}\n\t}\n\n\t// Choose a random move from the possible moves\n\tconst [moveX, moveY] = possibleMoves[Math.floor(Math.random() * possibleMoves.length)];\n\n\t// If Pacman has power-up, ghosts move slower (60% slower)\n\tif (store.pacman.powerupRemainingDuration && Math.random() < 0.6) return;\n\n\t// Update ghost direction based on movement\n\tif (moveX > 0) ghost.direction = 'right';\n\telse if (moveX < 0) ghost.direction = 'left';\n\telse if (moveY > 0) ghost.direction = 'down';\n\telse if (moveY < 0) ghost.direction = 'up';\n\n\tghost.x += moveX;\n\tghost.y += moveY;\n};\n\n// Function to get valid moves that are not reversals of the current direction\nconst getValidMovesWithoutReverse = (ghost: Ghost): [number, number][] => {\n\tconst validMoves = MovementUtils.getValidMoves(ghost.x, ghost.y);\n\n\t// Do not allow the ghost to reverse its direction unless it is the only way\n\treturn validMoves.filter((move) => {\n\t\tconst [dx, dy] = move;\n\n\t\t// Checks whether the movement would be a reversal of the current direction\n\t\tif (\n\t\t\t(ghost.direction === 'right' && dx < 0) ||\n\t\t\t(ghost.direction === 'left' && dx > 0) ||\n\t\t\t(ghost.direction === 'up' && dy > 0) ||\n\t\t\t(ghost.direction === 'down' && dy < 0)\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t});\n};\n\n// Special movement for eyes to return home\nconst moveEyesToHome = (ghost: Ghost, store: StoreType) => {\n\tconst respawnPosition = { x: 26, y: 3 }; // Center of the ghost house\n\n\t// Check if you are already close to/inside the house\n\tif (Math.abs(ghost.x - respawnPosition.x) <= 1 && Math.abs(ghost.y - respawnPosition.y) <= 1) {\n\t\t// Adjust to the exact respawn position and start the respawn process\n\t\tghost.x = respawnPosition.x;\n\t\tghost.y = respawnPosition.y;\n\t\tghost.inHouse = true;\n\t\tghost.respawnCounter = 1; // Time to respawn\n\t\treturn;\n\t}\n\n\t// Eyes move faster than normal ghosts\n\tconst nextMove = MovementUtils.findNextStepDijkstra({ x: ghost.x, y: ghost.y }, respawnPosition);\n\n\tif (nextMove) {\n\t\t// Calculate direction based on movement\n\t\tconst dx = nextMove.x - ghost.x;\n\t\tconst dy = nextMove.y - ghost.y;\n\n\t\t// Update direction based on actual movement\n\t\tif (dx > 0) ghost.direction = 'right';\n\t\telse if (dx < 0) ghost.direction = 'left';\n\t\telse if (dy > 0) ghost.direction = 'down';\n\t\telse if (dy < 0) ghost.direction = 'up';\n\n\t\t// Update position\n\t\tghost.x = nextMove.x;\n\t\tghost.y = nextMove.y;\n\t} else {\n\t\t// If you can't find a path, use BFSTargetedLocation as a fallback\n\t\tconst alternativeMove = BFSTargetLocation(\n\t\t\tghost.x,\n\t\t\tghost.y,\n\t\t\trespawnPosition.x,\n\t\t\trespawnPosition.y,\n\t\t\tghost.direction as 'right' | 'left' | 'up' | 'down'\n\t\t);\n\n\t\tif (alternativeMove) {\n\t\t\tghost.x = alternativeMove.x;\n\t\t\tghost.y = alternativeMove.y;\n\n\t\t\tif (alternativeMove.direction) {\n\t\t\t\tghost.direction = alternativeMove.direction;\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Specific movement for each ghost personality\nconst moveGhostWithPersonality = (ghost: Ghost, store: StoreType) => {\n\t// If the ghost is respawning (eyes only), use expert logic\n\tif (ghost.name === 'eyes') {\n\t\tmoveEyesToHome(ghost, store);\n\t\treturn;\n\t}\n\n\t// Target calculation based on ghost personality\n\tconst target = calculateGhostTarget(ghost, store);\n\tghost.target = target;\n\n\t// Finds the next move using BFS, respecting no-reversal rules\n\tconst nextMove = BFSTargetLocation(ghost.x, ghost.y, target.x, target.y, ghost.direction);\n\tif (nextMove) {\n\t\tghost.x = nextMove.x;\n\t\tghost.y = nextMove.y;\n\n\t\tif (nextMove.direction) {\n\t\t\tghost.direction = nextMove.direction;\n\t\t}\n\t}\n};\n\n// Improved version of BFS that respects the no-reversion rule\nconst BFSTargetLocation = (\n\tstartX: number,\n\tstartY: number,\n\ttargetX: number,\n\ttargetY: number,\n\tcurrentDirection?: 'right' | 'left' | 'up' | 'down'\n): { x: number; y: number; direction?: 'right' | 'left' | 'up' | 'down' } | null => {\n\t// If we are already on target, no need to move\n\tif (startX === targetX && startY === targetY) return null;\n\n\t// Define a specific type for queue and path items\n\ttype PathNode = {\n\t\tx: number;\n\t\ty: number;\n\t\tpathDirection?: 'right' | 'left' | 'up' | 'down';\n\t};\n\n\ttype QueueItem = {\n\t\tx: number;\n\t\ty: number;\n\t\tpath: PathNode[];\n\t\tdirection: 'right' | 'left' | 'up' | 'down' | string;\n\t};\n\n\tconst queue: QueueItem[] = [{ x: startX, y: startY, path: [], direction: currentDirection || 'right' }];\n\tconst visited = new Set<string>();\n\tvisited.add(`${startX},${startY}`);\n\n\twhile (queue.length > 0) {\n\t\tconst current = queue.shift()!;\n\t\tconst { x, y, path, direction } = current;\n\n\t\t// Get valid moves\n\t\tconst validMoves = MovementUtils.getValidMoves(x, y);\n\n\t\t// Filter out moves that would reverse the current direction\n\t\tconst filteredMoves = validMoves.filter((move) => {\n\t\t\tconst [dx, dy] = move;\n\n\t\t\t// If we have no defined direction, allow any movement\n\t\t\tif (!direction) return true;\n\n\t\t\t// Check if it would be a reversal\n\t\t\tif (\n\t\t\t\t(direction === 'right' && dx < 0) ||\n\t\t\t\t(direction === 'left' && dx > 0) ||\n\t\t\t\t(direction === 'up' && dy > 0) ||\n\t\t\t\t(direction === 'down' && dy < 0)\n\t\t\t) {\n\t\t\t\t// If there is only one valid move and it would be a reversal, allow it anyway\n\t\t\t\treturn validMoves.length === 1;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t});\n\n\t\tfor (const [dx, dy] of filteredMoves) {\n\t\t\tconst newX = x + dx;\n\t\t\tconst newY = y + dy;\n\t\t\tconst key = `${newX},${newY}`;\n\n\t\t\tif (visited.has(key)) continue;\n\t\t\tvisited.add(key);\n\n\t\t\t// Determine the new direction\n\t\t\tlet newDirection: 'right' | 'left' | 'up' | 'down';\n\t\t\tif (dx > 0) newDirection = 'right';\n\t\t\telse if (dx < 0) newDirection = 'left';\n\t\t\telse if (dy > 0) newDirection = 'down';\n\t\t\telse if (dy < 0) newDirection = 'up';\n\t\t\telse newDirection = direction as 'right' | 'left' | 'up' | 'down';\n\n\t\t\tconst pathNode: PathNode = {\n\t\t\t\tx: newX,\n\t\t\t\ty: newY,\n\t\t\t\tpathDirection: newDirection\n\t\t\t};\n\n\t\t\tconst newPath = [...path, pathNode];\n\n\t\t\tif (newX === targetX && newY === targetY) {\n\t\t\t\t// Return the first position of the path with the direction\n\t\t\t\treturn newPath.length > 0\n\t\t\t\t\t? {\n\t\t\t\t\t\t\tx: newPath[0].x,\n\t\t\t\t\t\t\ty: newPath[0].y,\n\t\t\t\t\t\t\tdirection: newPath[0].pathDirection\n\t\t\t\t\t\t}\n\t\t\t\t\t: null;\n\t\t\t}\n\n\t\t\tqueue.push({ x: newX, y: newY, path: newPath, direction: newDirection });\n\t\t}\n\t}\n\n\t// If we don't find a path, check if there is any valid movement\n\tconst validMoves = MovementUtils.getValidMoves(startX, startY);\n\tif (validMoves.length > 0) {\n\t\t// Choose a random move if we can't find a path\n\t\tconst [dx, dy] = validMoves[Math.floor(Math.random() * validMoves.length)];\n\t\tlet direction: 'right' | 'left' | 'up' | 'down' = currentDirection as 'right' | 'left' | 'up' | 'down';\n\n\t\tif (dx > 0) direction = 'right';\n\t\telse if (dx < 0) direction = 'left';\n\t\telse if (dy > 0) direction = 'down';\n\t\telse if (dy < 0) direction = 'up';\n\n\t\treturn {\n\t\t\tx: startX + dx,\n\t\t\ty: startY + dy,\n\t\t\tdirection\n\t\t};\n\t}\n\n\t// If there is no valid movement, do not move\n\treturn null;\n};\n\n// Calculates the fate for each ghost based on their personality\nconst calculateGhostTarget = (ghost: Ghost, store: StoreType): Point2d => {\n\tconst { pacman } = store;\n\tlet pacDirection = getPacmanDirection(store);\n\n\t// Adjust Blinky's speed based on remaining points (becomes more aggressive)\n\tlet speedMultiplier = 1;\n\tif (ghost.name === 'blinky') {\n\t\t// When there are few points left, Blinky becomes faster (\"Elroy mode\")\n\t\tconst totalDots = GRID_WIDTH * GRID_HEIGHT;\n\t\tconst dotsEaten = totalDots - dotsRemaining;\n\t\tconst percentageEaten = dotsEaten / totalDots;\n\n\t\tif (percentageEaten > 0.7) {\n\t\t\tspeedMultiplier = 1.2; // 20% faster\n\t\t}\n\t\tif (percentageEaten > 0.9) {\n\t\t\tspeedMultiplier = 1.4; // 40% faster\n\t\t}\n\n\t\t// Apply speed multiplier if chasing Pac-Man\n\t\tif (Math.random() < 0.8 * speedMultiplier) {\n\t\t\t// Blinky aims directly at Pac-Man\n\t\t\treturn { x: pacman.x, y: pacman.y };\n\t\t}\n\t}\n\n\tswitch (ghost.name) {\n\t\tcase 'blinky': // Red - Aim directly at Pac-Man\n\t\t\treturn { x: pacman.x, y: pacman.y };\n\n\t\tcase 'pinky': // Pink - tries to ambush Pac-Man by positioning herself in front of him\n\t\t\tconst lookAhead = 4; // 4 cells ahead of Pac-Man\n\n\t\t\t// Special calculation for the original \"bug\": when Pac-Man looks up,\n\t\t\t// the calculation also adds 4 cells to the left\n\t\t\tlet targetX = pacman.x;\n\t\t\tlet targetY = pacman.y;\n\n\t\t\tif (pacman.direction === 'up') {\n\t\t\t\t// Reproducing the original bug\n\t\t\t\ttargetX = pacman.x - 4;\n\t\t\t\ttargetY = pacman.y - 4;\n\t\t\t} else {\n\t\t\t\ttargetX = pacman.x + pacDirection[0] * lookAhead;\n\t\t\t\ttargetY = pacman.y + pacDirection[1] * lookAhead;\n\t\t\t}\n\n\t\t\t// Ensure the target is within the grid\n\t\t\ttargetX = Math.min(Math.max(targetX, 0), GRID_WIDTH - 1);\n\t\t\ttargetY = Math.min(Math.max(targetY, 0), GRID_HEIGHT - 1);\n\n\t\t\treturn { x: targetX, y: targetY };\n\n\t\tcase 'inky': // Blue - Coordinated behavior with Blinky\n\t\t\tconst blinky = store.ghosts.find((g) => g.name === 'blinky');\n\n\t\t\t// Landmark: 2 cells ahead of Pac-Man\n\t\t\tlet twoAhead = {\n\t\t\t\tx: pacman.x + pacDirection[0] * 2,\n\t\t\t\ty: pacman.y + pacDirection[1] * 2\n\t\t\t};\n\n\t\t\t// Again, reproducing the Pinky bug upwards\n\t\t\tif (pacman.direction === 'up') {\n\t\t\t\ttwoAhead.x = pacman.x - 2;\n\t\t\t\ttwoAhead.y = pacman.y - 2;\n\t\t\t}\n\n\t\t\t// If Blinky exists, calculate the vector from it\n\t\t\tif (blinky) {\n\t\t\t\t// Fold Blinky's vector to the reference point\n\t\t\t\tconst vectorX = twoAhead.x - blinky.x;\n\t\t\t\tconst vectorY = twoAhead.y - blinky.y;\n\n\t\t\t\ttwoAhead = {\n\t\t\t\t\tx: twoAhead.x + vectorX,\n\t\t\t\t\ty: twoAhead.y + vectorY\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// Ensure the target is within the grid\n\t\t\ttwoAhead.x = Math.min(Math.max(twoAhead.x, 0), GRID_WIDTH - 1);\n\t\t\ttwoAhead.y = Math.min(Math.max(twoAhead.y, 0), GRID_HEIGHT - 1);\n\n\t\t\treturn twoAhead;\n\n\t\tcase 'clyde': // Orange - Toggles between chasing and random\n\t\t\tconst distanceToPacman = MovementUtils.calculateDistance(ghost.x, ghost.y, pacman.x, pacman.y);\n\n\t\t\t// Clyde's special behavior: if he's too close, he runs away to his corner\n\t\t\tif (distanceToPacman < 8) {\n\t\t\t\treturn SCATTER_CORNERS['clyde']; // Go to your corner when close\n\t\t\t} else {\n\t\t\t\t// When far away, chases Pac-Man directly\n\t\t\t\treturn { x: pacman.x, y: pacman.y };\n\t\t\t}\n\n\t\tdefault:\n\t\t\t// Default behavior: Aim at Pac-Man\n\t\t\treturn { x: pacman.x, y: pacman.y };\n\t}\n};\n\nconst getPacmanDirection = (store: StoreType): [number, number] => {\n\tswitch (store.pacman.direction) {\n\t\tcase 'right':\n\t\t\treturn [1, 0];\n\t\tcase 'left':\n\t\t\treturn [-1, 0];\n\t\tcase 'up':\n\t\t\treturn [0, -1];\n\t\tcase 'down':\n\t\t\treturn [0, 1];\n\t\tdefault:\n\t\t\treturn [0, 0];\n\t}\n};\n\n// Get a random destination for spooked ghosts\nconst getRandomDestination = (x: number, y: number) => {\n\tconst maxDistance = 8;\n\tconst randomX = x + Math.floor(Math.random() * (2 * maxDistance + 1)) - maxDistance;\n\tconst randomY = y + Math.floor(Math.random() * (2 * maxDistance + 1)) - maxDistance;\n\treturn {\n\t\tx: Math.max(0, Math.min(randomX, GRID_WIDTH - 1)),\n\t\ty: Math.max(0, Math.min(randomY, GRID_HEIGHT - 1))\n\t};\n};\n\nexport const GhostsMovement = {\n\tmoveGhosts\n};\n","import { GRID_HEIGHT, GRID_WIDTH, WALLS } from '../core/constants';\nimport { Point2d } from '../types';\n\n// Check for walls and grid edges\nconst getValidMoves = (x: number, y: number): [number, number][] => {\n\tconst directions: [number, number][] = [\n\t\t[-1, 0], // left\n\t\t[1, 0], // right\n\t\t[0, -1], // up\n\t\t[0, 1] // down\n\t];\n\treturn directions.filter(([dx, dy]) => {\n\t\tconst newX = x + dx;\n\t\tconst newY = y + dy;\n\n\t\tif (newX < 0 || newX >= GRID_WIDTH || newY < 0 || newY >= GRID_HEIGHT) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (dx === -1) {\n\t\t\treturn !WALLS.vertical[x][y].active;\n\t\t} else if (dx === 1) {\n\t\t\treturn !WALLS.vertical[x + 1][y].active;\n\t\t} else if (dy === -1) {\n\t\t\treturn !WALLS.horizontal[x][y].active;\n\t\t} else if (dy === 1) {\n\t\t\treturn !WALLS.horizontal[x][y + 1].active;\n\t\t}\n\n\t\treturn true;\n\t});\n};\n\nconst calculateDistance = (x1: number, y1: number, x2: number, y2: number): number => {\n\treturn Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n};\n\nexport const MovementUtils = {\n\tgetValidMoves,\n\tcalculateDistance,\n\n\t/**\n\t * Dijkstra's 4-way grid.\n\t * Returns the NEXT step (not the entire route) or null if none.\n\t */\n\tfindNextStepDijkstra(start: Point2d, target: Point2d): Point2d | null {\n\t\tif (start.x === target.x && start.y === target.y) return null;\n\n\t\tconst pq: { x: number; y: number; cost: number; path: Point2d[] }[] = [{ ...start, cost: 0, path: [] }];\n\t\tconst visited = new Set<string>([`${start.x},${start.y}`]);\n\n\t\twhile (pq.length) {\n\t\t\t// min-heap manual\n\t\t\tpq.sort((a, b) => a.cost - b.cost);\n\t\t\tconst { x, y, cost, path } = pq.shift()!;\n\n\t\t\tfor (const [dx, dy] of getValidMoves(x, y)) {\n\t\t\t\tconst nx = x + dx,\n\t\t\t\t\tny = y + dy,\n\t\t\t\t\tkey = `${nx},${ny}`;\n\t\t\t\tif (visited.has(key)) continue;\n\t\t\t\tvisited.add(key);\n\n\t\t\t\tconst nextCost = cost + 1; // unit cost\n\t\t\t\tconst newPath = [...path, { x: nx, y: ny }];\n\n\t\t\t\tif (nx === target.x && ny === target.y) {\n\t\t\t\t\treturn newPath[0] ?? null;\n\t\t\t\t}\n\t\t\t\tpq.push({ x: nx, y: ny, cost: nextCost, path: newPath });\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n};\n","import { GRID_HEIGHT, GRID_WIDTH, PACMAN_POWERUP_DURATION } from '../core/constants';\nimport { PlayerStyle, Point2d, StoreType } from '../types';\nimport { Utils } from '../utils/utils';\nimport { MovementUtils } from './movement-utils';\n\nconst RECENT_POSITIONS_LIMIT = 5;\n\nconst movePacman = (store: StoreType) => {\n\tif (store.pacman.deadRemainingDuration) return;\n\n\tconst hasPowerup = !!store.pacman.powerupRemainingDuration;\n\tconst scaredGhosts = store.ghosts.filter((ghost) => ghost.scared);\n\n\tlet targetPosition: Point2d;\n\n\t// Find a target position, ensuring it's never undefined\n\ttry {\n\t\tif (hasPowerup && scaredGhosts.length > 0) {\n\t\t\tconst ghostPosition = findClosestScaredGhost(store);\n\t\t\ttargetPosition = ghostPosition ?? findOptimalTarget(store);\n\t\t} else if (store.pacman.target) {\n\t\t\tif (store.pacman.x === store.pacman.target.x && store.pacman.y === store.pacman.target.y) {\n\t\t\t\ttargetPosition = findOptimalTarget(store);\n\t\t\t\tstore.pacman.target = targetPosition;\n\t\t\t} else {\n\t\t\t\ttargetPosition = store.pacman.target;\n\t\t\t}\n\t\t} else {\n\t\t\ttargetPosition = findOptimalTarget(store);\n\t\t\tstore.pacman.target = targetPosition;\n\t\t}\n\n\t\t// Safety check to ensure targetPosition is never undefined\n\t\tif (!targetPosition) {\n\t\t\ttargetPosition = { x: store.pacman.x, y: store.pacman.y };\n\t\t}\n\n\t\tconst nextPosition = calculateOptimalPath(store, targetPosition);\n\t\tnextPosition ? updatePacmanPosition(store, nextPosition) : makeDesperationMove(store);\n\n\t\tcheckAndEatPoint(store);\n\t} catch (error) {\n\t\tconsole.error('Error in movePacman:', error);\n\t\t// If all else fails, don't move\n\t}\n};\n\nconst findClosestScaredGhost = (store: StoreType) => {\n\tconst scaredGhosts = store.ghosts.filter((g) => g.scared);\n\tif (scaredGhosts.length === 0) return null;\n\n\treturn scaredGhosts.reduce(\n\t\t(closest, ghost) => {\n\t\t\tconst distance = MovementUtils.calculateDistance(ghost.x, ghost.y, store.pacman.x, store.pacman.y);\n\t\t\treturn distance < closest.distance ? { x: ghost.x, y: ghost.y, distance } : closest;\n\t\t},\n\t\t{ x: store.pacman.x, y: store.pacman.y, distance: Infinity }\n\t);\n};\n\nconst findOptimalTarget = (store: StoreType) => {\n\tconst pointCells: { x: number; y: number; value: number }[] = [];\n\n\tfor (let x = 0; x < GRID_WIDTH; x++) {\n\t\tfor (let y = 0; y < GRID_HEIGHT; y++) {\n\t\t\tconst cell = store.grid[x][y];\n\t\t\tif (cell.level !== 'NONE') {\n\t\t\t\tconst distance = MovementUtils.calculateDistance(x, y, store.pacman.x, store.pacman.y);\n\t\t\t\tconst value = cell.commitsCount / (distance + 1);\n\t\t\t\tpointCells.push({ x, y, value });\n\t\t\t}\n\t\t}\n\t}\n\n\tpointCells.sort((a, b) => b.value - a.value);\n\n\t// Check if there are any cells with points left\n\tif (pointCells.length === 0) {\n\t\t// Return Pac-Man's current position as fallback\n\t\treturn { x: store.pacman.x, y: store.pacman.y, value: 0 };\n\t}\n\n\treturn pointCells[0];\n};\n\nconst calculateOptimalPath = (store: StoreType, target: Point2d) => {\n\tconst queue: { x: number; y: number; path: Point2d[]; score: number }[] = [\n\t\t{ x: store.pacman.x, y: store.pacman.y, path: [], score: 0 }\n\t];\n\tconst visited = new Set<string>([`${store.pacman.x},${store.pacman.y}`]);\n\tconst dangerMap = createDangerMap(store);\n\n\tconst maxDangerValue = 15;\n\n\t// Set weights according to player style - more extreme values\n\tlet safetyWeight = 0.5; // standard weight for safety\n\tlet pointWeight = 0.5; // standard weight for points\n\n\tswitch (store.config.playerStyle) {\n\t\tcase PlayerStyle.CONSERVATIVE:\n\t\t\tsafetyWeight = 3.0; // Much higher values to ensure conservative behavior\n\t\t\tpointWeight = 0.1;\n\t\t\tbreak;\n\t\tcase PlayerStyle.AGGRESSIVE:\n\t\t\tsafetyWeight = 0.3;\n\t\t\tpointWeight = 2.0;\n\t\t\tbreak;\n\t\tcase PlayerStyle.OPPORTUNISTIC:\n\t\tdefault:\n\t\t\tsafetyWeight = 0.8;\n\t\t\tpointWeight = 0.8;\n\t\t\tbreak;\n\t}\n\n\t// Calculate the distance to the nearest ghost\n\tlet closestGhostDistance = Infinity;\n\tstore.ghosts.forEach((ghost) => {\n\t\tif (!ghost.scared) {\n\t\t\tconst dist = MovementUtils.calculateDistance(store.pacman.x, store.pacman.y, ghost.x, ghost.y);\n\t\t\tclosestGhostDistance = Math.min(closestGhostDistance, dist);\n\t\t}\n\t});\n\n\t// Narrower danger threshold for conservative\n\tconst dangerThreshold = store.config.playerStyle === PlayerStyle.CONSERVATIVE ? 5 : 7;\n\tconst dangerNearby = closestGhostDistance < dangerThreshold;\n\n\t// Adjust weights further if there is danger and it is conservative\n\tif (store.config.playerStyle === PlayerStyle.CONSERVATIVE && dangerNearby) {\n\t\tsafetyWeight *= 5; // Dramatically increase the safety weight in dangerous situations\n\t}\n\n\twhile (queue.length > 0) {\n\t\tqueue.sort((a, b) => b.score - a.score);\n\t\tconst current = queue.shift()!;\n\t\tconst { x, y, path } = current;\n\n\t\tif (x === target.x && y === target.y) {\n\t\t\t// Upon arrival at the destination, analyze the behavior\n\t\t\tif (path.length > 0) {\n\t\t\t\tlet totalSafetyScore = 0;\n\t\t\t\tlet totalPointScore = 0;\n\n\t\t\t\tpath.forEach((point) => {\n\t\t\t\t\tconst key = `${point.x},${point.y}`;\n\t\t\t\t\tconst danger = dangerMap.get(key) || 0;\n\t\t\t\t\tconst points = store.grid[point.x][point.y].commitsCount;\n\n\t\t\t\t\ttotalSafetyScore -= danger * safetyWeight;\n\t\t\t\t\ttotalPointScore += points * pointWeight;\n\t\t\t\t});\n\n\t\t\t\treturn path[0];\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\tfor (const [dx, dy] of MovementUtils.getValidMoves(x, y)) {\n\t\t\tconst newX = x + dx;\n\t\t\tconst newY = y + dy;\n\t\t\tconst key = `${newX},${newY}`;\n\n\t\t\tif (!visited.has(key)) {\n\t\t\t\tconst newPath = [...path, { x: newX, y: newY }];\n\t\t\t\tconst danger = dangerMap.get(key) || 0;\n\t\t\t\tconst pointValue = store.grid[newX][newY].commitsCount;\n\t\t\t\tconst distanceToTarget = MovementUtils.calculateDistance(newX, newY, target.x, target.y);\n\t\t\t\tconst revisitPenalty = store.pacman.recentPositions?.includes(key) ? 100 : 0;\n\n\t\t\t\tlet safetyScore, pointScore, finalScore;\n\n\t\t\t\t// Completely inverted punctuation logic for conservative style\n\t\t\t\tif (store.config.playerStyle === PlayerStyle.CONSERVATIVE) {\n\t\t\t\t\t// For conservative: danger is MUCH more important than points\n\t\t\t\t\tsafetyScore = (maxDangerValue - danger) * safetyWeight;\n\n\t\t\t\t\t// Severe penalties for dangerous cells\n\t\t\t\t\tif (danger >= 5) {\n\t\t\t\t\t\tsafetyScore -= 100; // Severe penalty for dangerous cells\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Bonus for safe cells\n\t\t\t\t\t\tsafetyScore += 50;\n\t\t\t\t\t}\n\n\t\t\t\t\tpointScore = pointValue * pointWeight;\n\t\t\t\t\tconst distanceScore = -distanceToTarget / 10;\n\n\t\t\t\t\t// Score components are different for conservative\n\t\t\t\t\tfinalScore = safetyScore * 5 + pointScore + distanceScore - revisitPenalty;\n\t\t\t\t} else {\n\t\t\t\t\t// Default logic for other styles\n\t\t\t\t\tsafetyScore = (maxDangerValue - danger) * safetyWeight;\n\t\t\t\t\tpointScore = pointValue * pointWeight;\n\t\t\t\t\tconst distanceScore = -distanceToTarget / 10;\n\n\t\t\t\t\tfinalScore = safetyScore + pointScore + distanceScore - revisitPenalty;\n\t\t\t\t}\n\t\t\t\tqueue.push({\n\t\t\t\t\tx: newX,\n\t\t\t\t\ty: newY,\n\t\t\t\t\tpath: newPath,\n\t\t\t\t\tscore: finalScore\n\t\t\t\t});\n\n\t\t\t\tvisited.add(key);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn null;\n};\n\nconst createDangerMap = (store: StoreType) => {\n\tconst map = new Map<string, number>();\n\tconst hasPowerup = !!store.pacman.powerupRemainingDuration;\n\n\tstore.ghosts.forEach((ghost) => {\n\t\tif (ghost.scared) return;\n\n\t\tfor (let dx = -5; dx <= 5; dx++) {\n\t\t\tfor (let dy = -5; dy <= 5; dy++) {\n\t\t\t\tconst x = ghost.x + dx;\n\t\t\t\tconst y = ghost.y + dy;\n\n\t\t\t\tif (x >= 0 && x < GRID_WIDTH && y >= 0 && y < GRID_HEIGHT) {\n\t\t\t\t\tconst key = `${x},${y}`;\n\t\t\t\t\tconst distance = Math.abs(dx) + Math.abs(dy);\n\t\t\t\t\tconst value = 15 - distance;\n\n\t\t\t\t\tif (value > 0) {\n\t\t\t\t\t\tconst current = map.get(key) || 0;\n\t\t\t\t\t\tmap.set(key, Math.max(current, value));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\tif (hasPowerup) {\n\t\tfor (const [key, value] of map.entries()) {\n\t\t\tmap.set(key, value / 5);\n\t\t}\n\t}\n\n\treturn map;\n};\n\nconst makeDesperationMove = (store: StoreType) => {\n\tconst validMoves = MovementUtils.getValidMoves(store.pacman.x, store.pacman.y);\n\tif (validMoves.length === 0) return;\n\n\tconst safest = validMoves.reduce(\n\t\t(best, [dx, dy]) => {\n\t\t\tconst newX = store.pacman.x + dx;\n\t\t\tconst newY = store.pacman.y + dy;\n\t\t\tlet minDist = Infinity;\n\n\t\t\tstore.ghosts.forEach((ghost) => {\n\t\t\t\tif (!ghost.scared) {\n\t\t\t\t\tconst dist = MovementUtils.calculateDistance(ghost.x, ghost.y, newX, newY);\n\t\t\t\t\tminDist = Math.min(minDist, dist);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn minDist > best.distance ? { dx, dy, distance: minDist } : best;\n\t\t},\n\t\t{ dx: 0, dy: 0, distance: -Infinity }\n\t);\n\n\tupdatePacmanPosition(store, {\n\t\tx: store.pacman.x + safest.dx,\n\t\ty: store.pacman.y + safest.dy\n\t});\n};\n\nconst updatePacmanPosition = (store: StoreType, position: Point2d) => {\n\tstore.pacman.recentPositions ||= [];\n\tstore.pacman.recentPositions.push(`${position.x},${position.y}`);\n\tif (store.pacman.recentPositions.length > RECENT_POSITIONS_LIMIT) {\n\t\tstore.pacman.recentPositions.shift();\n\t}\n\n\tconst dx = position.x - store.pacman.x;\n\tconst dy = position.y - store.pacman.y;\n\n\tstore.pacman.direction = dx > 0 ? 'right' : dx < 0 ? 'left' : dy > 0 ? 'down' : dy < 0 ? 'up' : store.pacman.direction;\n\n\tstore.pacman.x = position.x;\n\tstore.pacman.y = position.y;\n};\n\nconst checkAndEatPoint = (store: StoreType) => {\n\tconst cell = store.grid[store.pacman.x][store.pacman.y];\n\tif (cell.level !== 'NONE') {\n\t\tstore.pacman.totalPoints += cell.commitsCount;\n\t\tstore.pacman.points++;\n\t\tstore.config.pointsIncreasedCallback(store.pacman.totalPoints);\n\n\t\tconst theme = Utils.getCurrentTheme(store);\n\t\t// Power-up activated in the cell\n\t\tif (cell.level === 'FOURTH_QUARTILE') {\n\t\t\tactivatePowerUp(store);\n\t\t}\n\n\t\t// \"Delete\" point from cell\n\t\tcell.level = 'NONE';\n\t\tcell.color = theme.intensityColors[0];\n\t\tcell.commitsCount = 0;\n\t}\n};\n\nconst activatePowerUp = (store: StoreType) => {\n\tstore.pacman.powerupRemainingDuration = PACMAN_POWERUP_DURATION;\n\tstore.ghosts.forEach((g) => (g.scared = true));\n};\n\nexport const PacmanMovement = {\n\tmovePacman\n};\n","export enum Sound {\n\tDEFAULT = 'https://cdn.jsdelivr.net/npm/pacman-contribution-graph/src/assets/sounds/pacman_chomp.wav',\n\tBEGINNING = 'https://cdn.jsdelivr.net/npm/pacman-contribution-graph/src/assets/sounds/pacman_beginning.wav',\n\tGAME_OVER = 'https://cdn.jsdelivr.net/npm/pacman-contribution-graph/src/assets/sounds/pacman_death.wav',\n\tEAT_GHOST = 'https://cdn.jsdelivr.net/npm/pacman-contribution-graph/src/assets/sounds/pacman_eatghost.wav'\n}\n\nexport class MusicPlayer {\n\tprivate static instance: MusicPlayer;\n\tprivate audioContext: AudioContext;\n\tprivate sounds: Map<Sound, AudioBuffer> = new Map();\n\tprivate currentSource: AudioBufferSourceNode | null = null;\n\tprivate defaultSource: AudioBufferSourceNode | null = null;\n\tpublic isMuted: boolean = false;\n\n\tprivate constructor() {\n\t\tthis.audioContext = new AudioContext();\n\t}\n\n\tpublic static getInstance(): MusicPlayer {\n\t\tif (!MusicPlayer.instance) {\n\t\t\tMusicPlayer.instance = new MusicPlayer();\n\t\t}\n\t\treturn MusicPlayer.instance;\n\t}\n\n\tpublic async preloadSounds(): Promise<void> {\n\t\tfor (const sound of Object.values(Sound)) {\n\t\t\tconst response = await fetch(sound);\n\t\t\tconst arrayBuffer = await response.arrayBuffer();\n\t\t\tconst audioBuffer = await this.audioContext.decodeAudioData(arrayBuffer);\n\t\t\tthis.sounds.set(sound as Sound, audioBuffer);\n\t\t}\n\t}\n\n\tpublic async play(sound: Sound): Promise<void> {\n\t\tif (this.isMuted) {\n\t\t\treturn;\n\t\t}\n\t\tif (this.currentSource) {\n\t\t\ttry {\n\t\t\t\tthis.currentSource.stop();\n\t\t\t} catch (ex) {}\n\t\t}\n\n\t\tconst buffer = this.sounds.get(sound);\n\t\tif (!buffer) {\n\t\t\tconsole.error(`Sound ${sound} not found`);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.currentSource = this.audioContext.createBufferSource();\n\t\tthis.currentSource.buffer = buffer;\n\t\tthis.currentSource.connect(this.audioContext.destination);\n\n\t\tif (!this.isMuted) {\n\t\t\tthis.currentSource.start();\n\t\t}\n\n\t\treturn new Promise((resolve) => {\n\t\t\tthis.currentSource!.onended = () => {\n\t\t\t\tthis.currentSource = null;\n\t\t\t\tresolve();\n\t\t\t};\n\t\t});\n\t}\n\n\tpublic startDefaultSound(): void {\n\t\tif (this.defaultSource) {\n\t\t\ttry {\n\t\t\t\tthis.defaultSource.stop();\n\t\t\t} catch (ex) {}\n\t\t}\n\n\t\tconst buffer = this.sounds.get(Sound.DEFAULT);\n\t\tif (!buffer) {\n\t\t\tconsole.error('Default sound not found');\n\t\t\treturn;\n\t\t}\n\n\t\tthis.defaultSource = this.audioContext.createBufferSource();\n\t\tthis.defaultSource.buffer = buffer;\n\t\tthis.defaultSource.loop = true;\n\t\tthis.defaultSource.connect(this.audioContext.destination);\n\n\t\tif (!this.isMuted) {\n\t\t\tthis.defaultSource.start();\n\t\t}\n\t}\n\n\tpublic stopDefaultSound(): void {\n\t\tif (this.defaultSource) {\n\t\t\ttry {\n\t\t\t\tthis.defaultSource.stop();\n\t\t\t} catch (ex) {}\n\t\t\tthis.defaultSource = null;\n\t\t}\n\t}\n\n\tpublic mute(): void {\n\t\tthis.isMuted = true;\n\t\tif (this.currentSource) {\n\t\t\tthis.currentSource.disconnect();\n\t\t}\n\t\tif (this.defaultSource) {\n\t\t\tthis.defaultSource.disconnect();\n\t\t}\n\t}\n\n\tpublic unmute(): void {\n\t\tthis.isMuted = false;\n\t\tif (this.currentSource) {\n\t\t\tthis.currentSource.connect(this.audioContext.destination);\n\t\t}\n\t\tif (this.defaultSource) {\n\t\t\tthis.defaultSource.connect(this.audioContext.destination);\n\t\t}\n\t}\n}\n","import { Contribution, ContributionLevel, StoreType } from '../types';\nimport { calculateContributionLevel, getCurrentTheme, levelToIndex } from '../utils/utils';\n\ninterface ContributionDay {\n\tdate: string;\n\tcontributionCount: number;\n\tcolor: string;\n\tcontributionLevel: ContributionLevel;\n}\n\ninterface GraphQLResponse {\n\tdata: {\n\t\tuser: {\n\t\t\tcontributionsCollection: {\n\t\t\t\tcontributionCalendar: {\n\t\t\t\t\tweeks: {\n\t\t\t\t\t\tcontributionDays: ContributionDay[];\n\t\t\t\t\t}[];\n\t\t\t\t};\n\t\t\t};\n\t\t};\n\t};\n}\n\nexport const fetchGithubContributions = async (store: StoreType): Promise<Contribution[]> => {\n\tif (store.config.githubSettings?.accessToken) {\n\t\treturn await fetchGithubContributionsGraphQL(store);\n\t} else {\n\t\treturn await fetchGithubContributionsRest(store);\n\t}\n};\n\nconst fetchGithubContributionsRest = async (store: StoreType): Promise<Contribution[]> => {\n\tconst commits: any[] = [];\n\tlet isComplete = false;\n\tlet page = 1;\n\n\tdo {\n\t\ttry {\n\t\t\tconst headers: HeadersInit = {};\n\t\t\tif (store.config.githubSettings?.accessToken) {\n\t\t\t\theaders['Authorization'] = 'Bearer ' + store.config.githubSettings.accessToken;\n\t\t\t}\n\t\t\tconst response = await fetch(\n\t\t\t\t`https://api.github.com/search/commits?q=author:${store.config.username}&sort=author-date&order=desc&page=${page}&per_page=100`,\n\t\t\t\t{ headers }\n\t\t\t);\n\t\t\tconst data: { items?: any[] } = await response.json();\n\t\t\tisComplete = !data.items || data.items.length === 0;\n\t\t\tcommits.push(...(data.items ?? []));\n\t\t\tpage++;\n\t\t} catch {\n\t\t\tisComplete = true;\n\t\t}\n\t} while (!isComplete);\n\n\tconst contributions = Array.from(\n\t\tcommits\n\t\t\t.reduce((map: any, item: any) => {\n\t\t\t\tconst authorDateStr = item.commit.author?.date?.split('T')[0];\n\t\t\t\tconst committerDateStr = item.commit.committer?.date?.split('T')[0];\n\t\t\t\tconst keyDate = committerDateStr || authorDateStr;\n\t\t\t\tconst count = (map.get(keyDate) || { count: 0 }).count + 1;\n\t\t\t\treturn map.set(keyDate, {\n\t\t\t\t\tdate: new Date(keyDate),\n\t\t\t\t\tcount,\n\t\t\t\t\tcolor: '',\n\t\t\t\t\tlevel: 'NONE' as const\n\t\t\t\t});\n\t\t\t}, new Map())\n\t\t\t.values()\n\t) as Contribution[];\n\n\t// Find the max non-zero contribution count\n\tconst maxCount = Math.max(...contributions.map((el) => el.count).filter((c) => c > 0));\n\n\treturn contributions.map((c: Contribution) => {\n\t\tconst level = calculateContributionLevel(c.count, maxCount);\n\t\tconst theme = getCurrentTheme(store);\n\t\treturn {\n\t\t\tdate: new Date(c.date),\n\t\t\tcount: c.count,\n\t\t\tcolor: theme.intensityColors[levelToIndex(level)],\n\t\t\tlevel\n\t\t};\n\t});\n};\n\nconst fetchGithubContributionsGraphQL = async (store: StoreType): Promise<Contribution[]> => {\n\tconst query = /* GraphQL */ `\n\t\tquery ($login: String!) {\n\t\t\tuser(login: $login) {\n\t\t\t\tcontributionsCollection {\n\t\t\t\t\tcontributionCalendar {\n\t\t\t\t\t\tweeks {\n\t\t\t\t\t\t\tcontributionDays {\n\t\t\t\t\t\t\t\tdate\n\t\t\t\t\t\t\t\tcontributionCount\n\t\t\t\t\t\t\t\tcolor\n\t\t\t\t\t\t\t\tcontributionLevel\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t`;\n\n\tconst response = await fetch('https://api.github.com/graphql', {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\tAuthorization: `Bearer ${store.config.githubSettings?.accessToken}`,\n\t\t\t'Content-Type': 'application/json'\n\t\t},\n\t\tbody: JSON.stringify({ query, variables: { login: store.config.username } })\n\t});\n\n\tif (!response.ok) {\n\t\tthrow new Error(`GitHub GraphQL request failed: ${response.status} ${response.statusText}`);\n\t}\n\n\tconst json = (await response.json()) as GraphQLResponse;\n\n\treturn json.data.user.contributionsCollection.contributionCalendar.weeks\n\t\t.map((week) => week.contributionDays)\n\t\t.reduce((acc, days) => acc.concat(days), [])\n\t\t.map((d) => {\n\t\t\tconst level = d.contributionLevel;\n\t\t\tconst theme = getCurrentTheme(store);\n\t\t\treturn {\n\t\t\t\tdate: new Date(d.date),\n\t\t\t\tcount: d.contributionCount,\n\t\t\t\tcolor: theme.intensityColors[levelToIndex(level)],\n\t\t\t\tlevel\n\t\t\t};\n\t\t});\n};\n","import { Contribution, StoreType } from '../types';\nimport { calculateContributionLevel, getCurrentTheme, levelToIndex } from '../utils/utils';\n\nexport const fetchGitlabContributions = async (store: StoreType) => {\n\tconst response = await fetch(\n\t\t`https://v0-new-project-q1hhrdodoye-abozanona-gmailcoms-projects.vercel.app/api/contributions?username=${store.config.username}`\n\t);\n\tconst contributionsList = await response.json();\n\tconst contributions = Object.entries(contributionsList).map(([date, count]) => ({\n\t\tdate: new Date(date),\n\t\tcount: Number(count),\n\t\tcolor: '',\n\t\tlevel: 'NONE' as const\n\t})) as Contribution[];\n\n\t// Find the max non-zero contribution count\n\tconst maxCount = Math.max(...contributions.map((el) => el.count).filter((c) => c > 0));\n\n\treturn contributions.map((c: Contribution) => {\n\t\tconst level = calculateContributionLevel(c.count, maxCount);\n\t\tconst theme = getCurrentTheme(store);\n\t\treturn {\n\t\t\tdate: new Date(c.date),\n\t\t\tcount: c.count,\n\t\t\tcolor: theme.intensityColors[levelToIndex(level)],\n\t\t\tlevel\n\t\t};\n\t});\n};\n","import { fetchGithubContributions } from './github-contributions';\nimport { fetchGitlabContributions } from './gitlab-contributions';\n\nexport const Providers = {\n\tfetchGithubContributions,\n\tfetchGitlabContributions\n};\n","import { CELL_SIZE, GAP_SIZE, GHOSTS, GRID_HEIGHT, GRID_WIDTH, WALLS } from '../core/constants';\nimport { MusicPlayer } from '../music-player';\nimport { Ghost, StoreType } from '../types';\nimport { Utils } from '../utils/utils';\nimport { RendererUnits } from './renderer-units';\n\nconst resizeCanvas = (store: StoreType) => {\n\tconst canvasWidth = GRID_WIDTH * (CELL_SIZE + GAP_SIZE);\n\tconst canvasHeight = GRID_HEIGHT * (CELL_SIZE + GAP_SIZE) + 20; // Adding some space for months on top\n\n\tstore.config.canvas.width = canvasWidth;\n\tstore.config.canvas.height = canvasHeight;\n};\n\nconst drawGrid = (store: StoreType) => {\n\tconst ctx = store.config.canvas.getContext('2d')!;\n\tctx.fillStyle = Utils.getCurrentTheme(store).gridBackground;\n\tctx.fillRect(0, 0, store.config.canvas.width, store.config.canvas.height);\n\n\tfor (let x = 0; x < GRID_WIDTH; x++) {\n\t\tfor (let y = 0; y < GRID_HEIGHT; y++) {\n\t\t\tif (store.grid[x][y].level !== 'NONE') {\n\t\t\t\tconst color = store.grid[x][y].color;\n\t\t\t\tctx.fillStyle = color;\n\t\t\t} else {\n\t\t\t\tctx.fillStyle = Utils.getCurrentTheme(store).intensityColors[0];\n\t\t\t}\n\t\t\tctx.beginPath();\n\t\t\tstore.config.canvas\n\t\t\t\t.getContext('2d')!\n\t\t\t\t.roundRect(x * (CELL_SIZE + GAP_SIZE), y * (CELL_SIZE + GAP_SIZE) + 15, CELL_SIZE, CELL_SIZE, 5);\n\t\t\tctx.fill();\n\t\t}\n\t}\n\n\tctx.fillStyle = Utils.getCurrentTheme(store).wallColor;\n\tfor (let x = 0; x <= GRID_WIDTH; x++) {\n\t\tfor (let y = 0; y <= GRID_HEIGHT; y++) {\n\t\t\t// Draw horizontal walls\n\t\t\tif (WALLS.horizontal[x][y].active) {\n\t\t\t\tctx.fillRect(\n\t\t\t\t\tx * (CELL_SIZE + GAP_SIZE) - GAP_SIZE,\n\t\t\t\t\ty * (CELL_SIZE + GAP_SIZE) - GAP_SIZE + 15,\n\t\t\t\t\tCELL_SIZE + GAP_SIZE,\n\t\t\t\t\tGAP_SIZE\n\t\t\t\t);\n\t\t\t\t// TODO: For drawing lines labels only\n\t\t\t\t// ctx.fillStyle = '#000';\n\t\t\t\t// ctx.fillText(WALLS.horizontal[x][y].id, x * (GAP_SIZE + CELL_SIZE), y * (GAP_SIZE + CELL_SIZE));\n\t\t\t}\n\n\t\t\t// Draw vertical walls\n\t\t\tif (WALLS.vertical[x][y].active) {\n\t\t\t\tctx.fillRect(\n\t\t\t\t\tx * (CELL_SIZE + GAP_SIZE) - GAP_SIZE,\n\t\t\t\t\ty * (CELL_SIZE + GAP_SIZE) - GAP_SIZE + 15,\n\t\t\t\t\tGAP_SIZE,\n\t\t\t\t\tCELL_SIZE + GAP_SIZE\n\t\t\t\t);\n\t\t\t\t// TODO: For drawing lines labels only\n\t\t\t\t// ctx.fillStyle = '#000';\n\t\t\t\t// ctx.fillText(WALLS.vertical[x][y].id, x * (GAP_SIZE + CELL_SIZE), (y + 1) * (GAP_SIZE + CELL_SIZE));\n\t\t\t}\n\t\t}\n\t}\n\n\tctx.fillStyle = Utils.getCurrentTheme(store).textColor;\n\tctx.font = '10px Arial';\n\tctx.textAlign = 'center';\n\n\tlet lastMonth = '';\n\n\tfor (let x = 0; x < GRID_WIDTH; x++) {\n\t\tif (store.monthLabels[x] !== lastMonth) {\n\t\t\tconst xPos = x * (CELL_SIZE + GAP_SIZE) + CELL_SIZE / 2;\n\t\t\tctx.fillText(store.monthLabels[x], xPos, 10);\n\t\t\tlastMonth = store.monthLabels[x];\n\t\t}\n\t}\n};\n\nconst drawPacman = (store: StoreType) => {\n\tconst ctx = store.config.canvas.getContext('2d')!;\n\tconst x = store.pacman.x * (CELL_SIZE + GAP_SIZE) + CELL_SIZE / 2;\n\tconst y = store.pacman.y * (CELL_SIZE + GAP_SIZE) + CELL_SIZE / 2 + 15;\n\tconst radius = CELL_SIZE / 2;\n\n\t// Change Pac-Man's color to red if he's on power-up, dead, else yellow\n\tctx.fillStyle = RendererUnits.generatePacManColors(store.pacman);\n\n\tconst mouthAngle = store.pacmanMouthOpen ? 0.35 * Math.PI : 0.1 * Math.PI;\n\n\tlet startAngle, endAngle;\n\tswitch (store.pacman.direction) {\n\t\tcase 'up':\n\t\t\tstartAngle = 1.5 * Math.PI + mouthAngle;\n\t\t\tendAngle = 1.5 * Math.PI - mouthAngle;\n\t\t\tbreak;\n\t\tcase 'down':\n\t\t\tstartAngle = 0.5 * Math.PI + mouthAngle;\n\t\t\tendAngle = 0.5 * Math.PI - mouthAngle;\n\t\t\tbreak;\n\t\tcase 'left':\n\t\t\tstartAngle = Math.PI + mouthAngle;\n\t\t\tendAngle = Math.PI - mouthAngle;\n\t\t\tbreak;\n\t\tcase 'right':\n\t\tdefault:\n\t\t\tstartAngle = 0 + mouthAngle;\n\t\t\tendAngle = 2 * Math.PI - mouthAngle;\n\t\t\tbreak;\n\t}\n\n\tctx.beginPath();\n\tctx.arc(x, y, radius, startAngle, endAngle);\n\tctx.lineTo(x, y);\n\tctx.fill();\n};\n\nconst preloadedImages: { [key: string]: HTMLImageElement } = {};\nconst getLoadedImage = (key: string, imgDate: string): HTMLImageElement => {\n\tif (!preloadedImages[key]) {\n\t\tconst image = new Image();\n\t\timage.src = imgDate;\n\t\tpreloadedImages[key] = image;\n\t}\n\treturn preloadedImages[key];\n};\n\nconst drawGhosts = (store: StoreType) => {\n\tstore.ghosts.forEach((ghost: Ghost) => {\n\t\tconst x = ghost.x * (CELL_SIZE + GAP_SIZE);\n\t\tconst y = ghost.y * (CELL_SIZE + GAP_SIZE) + 15;\n\t\tconst size = CELL_SIZE;\n\n\t\tconst ctx = store.config.canvas.getContext('2d')!;\n\t\tif (ghost.scared) {\n\t\t\tif ('imgDate' in GHOSTS.scared) {\n\t\t\t\tctx.drawImage(getLoadedImage('scared', GHOSTS.scared.imgDate), x, y, size, size);\n\t\t\t}\n\t\t} else {\n\t\t\tconst ghostData = GHOSTS[ghost.name];\n\t\t\tconst direction = ghost.direction as 'up' | 'down' | 'left' | 'right';\n\t\t\tconst imgSrc = (ghostData as Record<'up' | 'down' | 'left' | 'right', string>)[direction];\n\n\t\t\tctx.drawImage(getLoadedImage(ghost.name + '-' + ghost.direction, imgSrc), x, y, size, size);\n\t\t}\n\t});\n};\n\nconst renderGameOver = (store: StoreType) => {\n\tconst ctx = store.config.canvas.getContext('2d')!;\n\tctx.fillStyle = Utils.getCurrentTheme(store).textColor;\n\tctx.font = '20px Arial';\n\tctx.textAlign = 'center';\n\tctx.fillText('Game Over', store.config.canvas.width / 2, store.config.canvas.height / 2);\n};\n\nconst drawSoundController = (store: StoreType) => {\n\tif (!store.config.enableSounds) {\n\t\treturn;\n\t}\n\tconst ctx = store.config.canvas.getContext('2d')!;\n\n\tconst width = 30,\n\t\theight = 30,\n\t\tleft = store.config.canvas.width - width - 10,\n\t\ttop = 10;\n\tctx.fillStyle = `rgba(0, 0, 0, ${MusicPlayer.getInstance().isMuted ? 0.3 : 0.5})`;\n\tctx.beginPath();\n\tctx.moveTo(left + 10, top + 10);\n\tctx.lineTo(left + 20, top + 5);\n\tctx.lineTo(left + 20, top + 25);\n\tctx.lineTo(left + 10, top + 20);\n\tctx.closePath();\n\tctx.fill();\n\n\tif (!MusicPlayer.getInstance().isMuted) {\n\t\tctx.strokeStyle = `rgba(0, 0, 0, 0.4)`;\n\t\tctx.lineWidth = 2;\n\n\t\t// First wave\n\t\tctx.beginPath();\n\t\tctx.arc(left + 25, top + 15, 5, 0, Math.PI * 2);\n\t\tctx.stroke();\n\n\t\t// Second wave\n\t\tctx.beginPath();\n\t\tctx.arc(left + 25, top + 15, 8, 0, Math.PI * 2);\n\t\tctx.stroke();\n\t} else {\n\t\t// Mute line\n\t\tctx.strokeStyle = 'rgba(255, 0, 0, 0.6)';\n\t\tctx.lineWidth = 3;\n\t\tctx.beginPath();\n\t\tctx.moveTo(left + 25, top + 5);\n\t\tctx.lineTo(left + 5, top + 25);\n\t\tctx.stroke();\n\t}\n};\n\nconst listenToSoundController = (store: StoreType) => {\n\tif (!store.config.enableSounds) {\n\t\treturn;\n\t}\n\tstore.config.canvas.addEventListener('click', function (event) {\n\t\tconst rect = store.config.canvas.getBoundingClientRect();\n\t\tconst x = event.clientX - rect.left,\n\t\t\ty = event.clientY - rect.top;\n\t\tconst width = 30,\n\t\t\theight = 30,\n\t\t\tleft = store.config.canvas.width - width - 10,\n\t\t\ttop = 10;\n\n\t\tif (x >= left && x <= left + this.width && y >= top && y <= top + this.height) {\n\t\t\tif (MusicPlayer.getInstance().isMuted) {\n\t\t\t\tMusicPlayer.getInstance().unmute();\n\t\t\t} else {\n\t\t\t\tMusicPlayer.getInstance().mute();\n\t\t\t}\n\t\t}\n\t});\n};\n\nexport const Canvas = {\n\tresizeCanvas,\n\tdrawGrid,\n\tdrawPacman,\n\tdrawGhosts,\n\trenderGameOver,\n\tdrawSoundController,\n\tlistenToSoundController\n};\n","import { PACMAN_COLOR, PACMAN_COLOR_DEAD, PACMAN_COLOR_POWERUP } from '../core/constants';\nimport { Pacman } from '../types';\n\nconst generatePacManColors = (pacman: Pacman): string => {\n\tif (pacman.deadRemainingDuration) {\n\t\treturn PACMAN_COLOR_DEAD;\n\t} else if (pacman.powerupRemainingDuration) {\n\t\treturn PACMAN_COLOR_POWERUP;\n\t} else {\n\t\treturn PACMAN_COLOR;\n\t}\n};\n\nexport const RendererUnits = {\n\tgeneratePacManColors\n};\n","import { CELL_SIZE, DELTA_TIME, GAP_SIZE, GHOSTS, GRID_HEIGHT, GRID_WIDTH, PACMAN_COLOR, WALLS } from '../core/constants';\nimport { AnimationData, GhostName, StoreType } from '../types';\nimport { Utils } from '../utils/utils';\nimport { RendererUnits } from './renderer-units';\n\nconst SVG_KEY_TIMES_PRECISION = 4;\n\nconst generateAnimatedSVG = (store: StoreType) => {\n\t// Dimensions and duration\n\tconst svgWidth = GRID_WIDTH * (CELL_SIZE + GAP_SIZE);\n\tconst svgHeight = GRID_HEIGHT * (CELL_SIZE + GAP_SIZE) + 30; // Extra height for time counter\n\tconst totalDurationMs = store.gameHistory.length * DELTA_TIME;\n\n\t// Basic SVG structure\n\tlet svg = `<svg width=\"${svgWidth}\" height=\"${svgHeight}\" xmlns=\"http://www.w3.org/2000/svg\">`;\n\tsvg += `<desc>Generated with pacman-contribution-graph on ${new Date()}</desc>`;\n\tsvg += `<metadata>\n\t\t<info>\n\t\t\t<frames>${store.gameHistory.length}</frames>\n\t\t\t<frameRate>${1000 / DELTA_TIME}</frameRate>\n\t\t\t<durationMs>${totalDurationMs}</durationMs>\n\t\t\t<generatedOn>${new Date().toISOString()}</generatedOn>\n\t\t</info>\n\t</metadata>`;\n\tsvg += `<rect width=\"100%\" height=\"100%\" fill=\"${Utils.getCurrentTheme(store).gridBackground}\"/>`;\n\n\tsvg += generateGhostsPredefinition();\n\n\t// Month labels\n\tlet lastMonth = '';\n\tfor (let y = 0; y < GRID_WIDTH; y++) {\n\t\tif (store.monthLabels[y] !== lastMonth) {\n\t\t\tconst xPos = y * (CELL_SIZE + GAP_SIZE) + CELL_SIZE / 2;\n\t\t\tsvg += `<text x=\"${xPos}\" y=\"10\" text-anchor=\"middle\" font-size=\"10\" fill=\"${Utils.getCurrentTheme(store).textColor}\">${store.monthLabels[y]}</text>`;\n\t\t\tlastMonth = store.monthLabels[y];\n\t\t}\n\t}\n\n\t// Grid\n\tfor (let x = 0; x < GRID_WIDTH; x++) {\n\t\tfor (let y = 0; y < GRID_HEIGHT; y++) {\n\t\t\tconst cellX = x * (CELL_SIZE + GAP_SIZE);\n\t\t\tconst cellY = y * (CELL_SIZE + GAP_SIZE) + 15;\n\t\t\tconst cellColorAnimation = generateChangingValuesAnimation(store, generateCellColorValues(store, x, y));\n\t\t\tsvg += `<rect id=\"c-${x}-${y}\" x=\"${cellX}\" y=\"${cellY}\" width=\"${CELL_SIZE}\" height=\"${CELL_SIZE}\" rx=\"5\" fill=\"${Utils.getCurrentTheme(store).intensityColors[0]}\">\n\t\t\t\t<animate attributeName=\"fill\" dur=\"${totalDurationMs}ms\" repeatCount=\"indefinite\" \n\t\t\t\t\tvalues=\"${cellColorAnimation.values}\" \n\t\t\t\t\tkeyTimes=\"${cellColorAnimation.keyTimes}\"/>\n\t\t\t</rect>`;\n\t\t}\n\t}\n\n\t// Horizontal walls\n\tfor (let y = 0; y < GRID_HEIGHT; y++) {\n\t\tlet runStart = null;\n\t\tfor (let x = 0; x <= GRID_WIDTH; x++) {\n\t\t\tlet active = x < GRID_WIDTH && WALLS.horizontal[x][y].active;\n\t\t\tif (active && runStart === null) {\n\t\t\t\trunStart = x;\n\t\t\t}\n\t\t\tif ((!active || x === GRID_WIDTH) && runStart !== null) {\n\t\t\t\tlet length = x - runStart;\n\t\t\t\tsvg += `<rect id=\"wh-${runStart}-${y}\" x=\"${runStart * (CELL_SIZE + GAP_SIZE) - GAP_SIZE}\" y=\"${y * (CELL_SIZE + GAP_SIZE) - GAP_SIZE + 15}\" width=\"${length * (CELL_SIZE + GAP_SIZE)}\" height=\"${GAP_SIZE}\" fill=\"${Utils.getCurrentTheme(store).wallColor}\"></rect>`;\n\t\t\t\trunStart = null;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Vertical walls\n\tfor (let x = 0; x < GRID_WIDTH; x++) {\n\t\tlet runStart = null;\n\t\tfor (let y = 0; y <= GRID_HEIGHT; y++) {\n\t\t\tlet active = y < GRID_HEIGHT && WALLS.vertical[x][y].active;\n\t\t\tif (active && runStart === null) {\n\t\t\t\trunStart = y;\n\t\t\t}\n\t\t\tif ((!active || y === GRID_HEIGHT) && runStart !== null) {\n\t\t\t\tlet length = y - runStart;\n\t\t\t\tsvg += `<rect id=\"wv-${x}-${runStart}\" x=\"${x * (CELL_SIZE + GAP_SIZE) - GAP_SIZE}\" y=\"${runStart * (CELL_SIZE + GAP_SIZE) - GAP_SIZE + 15}\" width=\"${GAP_SIZE}\" height=\"${length * (CELL_SIZE + GAP_SIZE)}\" fill=\"${Utils.getCurrentTheme(store).wallColor}\"></rect>`;\n\t\t\t\trunStart = null;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Pacman\n\tconst pacmanColorAnimation = generateChangingValuesAnimation(\n\t\tstore,\n\t\tstore.gameHistory.map((el) => RendererUnits.generatePacManColors(el.pacman))\n\t);\n\tconst pacmanPositionAnimation = generateChangingValuesAnimation(store, generatePacManPositions(store));\n\tconst pacmanRotationAnimation = generateChangingValuesAnimation(store, generatePacManRotations(store));\n\tsvg += `<path id=\"pacman\" d=\"${generatePacManPath(0.55)}\" fill=\"${PACMAN_COLOR}\">\n\t\t<animate attributeName=\"fill\" dur=\"${totalDurationMs}ms\" repeatCount=\"indefinite\"\n\t\t\tkeyTimes=\"${pacmanColorAnimation.keyTimes}\"\n\t\t\tvalues=\"${pacmanColorAnimation.values}\"/>\n\t\t<animateTransform attributeName=\"transform\" type=\"translate\" dur=\"${totalDurationMs}ms\" repeatCount=\"indefinite\"\n\t\t\tkeyTimes=\"${pacmanPositionAnimation.keyTimes}\"\n\t\t\tvalues=\"${pacmanPositionAnimation.values}\"\n\t\t\tadditive=\"sum\"/>\n\t\t<animateTransform attributeName=\"transform\" type=\"rotate\" dur=\"${totalDurationMs}ms\" repeatCount=\"indefinite\"\n\t\t\tkeyTimes=\"${pacmanRotationAnimation.keyTimes}\"\n\t\t\tvalues=\"${pacmanRotationAnimation.values}\"\n\t\t\tadditive=\"sum\"/>\n\t\t<animate attributeName=\"d\" dur=\"0.5s\" repeatCount=\"indefinite\"\n\t\t\tvalues=\"${generatePacManPath(0.55)};${generatePacManPath(0.05)};${generatePacManPath(0.55)}\"/>\n\t</path>`;\n\n\t// Process each ghost separately\n\tstore.ghosts.forEach((ghost, index) => {\n\t\t// Generate position animation for this ghost\n\t\tconst ghostPositionAnimation = generateChangingValuesAnimation(store, generateGhostPositions(store, index));\n\n\t\t// Create a group for the ghost\n\t\tsvg += `<g id=\"ghost${index}\" transform=\"translate(0,0)\">\n\t\t\t<animateTransform attributeName=\"transform\" type=\"translate\" \n\t\t\t\tdur=\"${totalDurationMs}ms\" repeatCount=\"indefinite\"\n\t\t\t\tkeyTimes=\"${ghostPositionAnimation.keyTimes}\"\n\t\t\t\tvalues=\"${ghostPositionAnimation.values}\"\n\t\t\t\tadditive=\"replace\"/>`;\n\n\t\t// Map all possible state + direction combinations for this ghost\n\t\tconst stateChanges = mapGhostStateChanges(store, index);\n\n\t\t// For each possible state, create a <use> element with visibility animation\n\t\tfor (const [state, keyframes] of Object.entries(stateChanges)) {\n\t\t\t// Ignore empty states\n\t\t\tif (keyframes.length === 0) continue;\n\n\t\t\t// Use the correct ID for reference (blinky-right, scared, etc)\n\t\t\tconst href = `#ghost-${state}`;\n\n\t\t\t// Build the strings for the animation\n\t\t\tconst keyTimes = keyframes.map((kf) => kf.time.toFixed(SVG_KEY_TIMES_PRECISION)).join(';');\n\t\t\tconst values = keyframes.map((kf) => (kf.visible ? 'visible' : 'hidden')).join(';');\n\n\t\t\t// Initial visibility\n\t\t\tconst initialVisibility = keyframes[0].visible ? 'visible' : 'hidden';\n\n\t\t\tsvg += `<use href=\"${href}\" width=\"${CELL_SIZE}\" height=\"${CELL_SIZE}\" visibility=\"${initialVisibility}\">\n\t\t\t\t<animate attributeName=\"visibility\" \n\t\t\t\t\tdur=\"${totalDurationMs}ms\" repeatCount=\"indefinite\"\n\t\t\t\t\tkeyTimes=\"${keyTimes}\"\n\t\t\t\t\tvalues=\"${values}\" />\n\t\t\t</use>`;\n\t\t}\n\n\t\t// Close the ghost group\n\t\tsvg += `</g>`;\n\t});\n\n\tsvg += '</svg>';\n\treturn svg;\n};\n\n// Helper function to map all ghost state changes\nfunction mapGhostStateChanges(store: StoreType, ghostIndex: number) {\n\t// A map of states for frames where they are visible\n\t// Key: \"name-direction\" or \"scared\" or \"eyes-direction\"\n\t// Value: array of {time: number, visible: boolean}\n\tconst stateChanges: Record<string, { time: number; visible: boolean }[]> = {};\n\n\t// Initialize possible states for all ghosts\n\tconst allPossibleStates = [\n\t\t'blinky-up',\n\t\t'blinky-down',\n\t\t'blinky-left',\n\t\t'blinky-right',\n\t\t'inky-up',\n\t\t'inky-down',\n\t\t'inky-left',\n\t\t'inky-right',\n\t\t'pinky-up',\n\t\t'pinky-down',\n\t\t'pinky-left',\n\t\t'pinky-right',\n\t\t'clyde-up',\n\t\t'clyde-down',\n\t\t'clyde-left',\n\t\t'clyde-right',\n\t\t'eyes-up',\n\t\t'eyes-down',\n\t\t'eyes-left',\n\t\t'eyes-right',\n\t\t'scared'\n\t];\n\n\t// Initialize all states as hidden\n\tallPossibleStates.forEach((state) => {\n\t\tstateChanges[state] = [{ time: 0, visible: false }];\n\t});\n\n\t// Get the initial ghost\n\tconst initialGhost = store.ghosts[ghostIndex];\n\tif (!initialGhost) return stateChanges;\n\n\t// Set the initial state correctly\n\tconst initialState = initialGhost.scared\n\t\t? 'scared'\n\t\t: initialGhost.name === 'eyes'\n\t\t\t? `eyes-${initialGhost.direction || 'right'}`\n\t\t\t: `${initialGhost.name}-${initialGhost.direction || 'right'}`;\n\n\t// Mark this state as visible initially\n\tstateChanges[initialState] = [{ time: 0, visible: true }];\n\n\t// Track last state\n\tlet lastState = initialState;\n\n\t// Process each frame of the game history\n\tstore.gameHistory.forEach((state, frameIndex) => {\n\t\t// If the ghost does not exist in this frame, skip\n\t\tif (ghostIndex >= state.ghosts.length) return;\n\n\t\tconst ghost = state.ghosts[ghostIndex];\n\t\tconst currentTime = frameIndex / (store.gameHistory.length - 1);\n\n\t\t// Determine the current state\n\t\tconst currentState = ghost.scared\n\t\t\t? 'scared'\n\t\t\t: ghost.name === 'eyes'\n\t\t\t\t? `eyes-${ghost.direction || 'right'}`\n\t\t\t\t: `${ghost.name}-${ghost.direction || 'right'}`;\n\n\t\t// If the status has changed\n\t\tif (currentState !== lastState) {\n\t\t\t// Hide previous state\n\t\t\tstateChanges[lastState].push({ time: currentTime, visible: false });\n\n\t\t\t// Show new status\n\t\t\tif (!stateChanges[currentState]) {\n\t\t\t\tstateChanges[currentState] = [{ time: 0, visible: false }];\n\t\t\t}\n\t\t\tstateChanges[currentState].push({ time: currentTime, visible: true });\n\n\t\t\t// Update the latest status\n\t\t\tlastState = currentState;\n\t\t}\n\t});\n\n\t// Ensure the last state remains visible until the end\n\tstateChanges[lastState].push({ time: 1, visible: true });\n\n\t// Ensure all other states are hidden until the end\n\tObject.keys(stateChanges).forEach((state) => {\n\t\tif (state !== lastState && stateChanges[state].length > 0) {\n\t\t\tconst lastKeyframe = stateChanges[state][stateChanges[state].length - 1];\n\t\t\tif (lastKeyframe.time < 1) {\n\t\t\t\tstateChanges[state].push({ time: 1, visible: false });\n\t\t\t}\n\t\t}\n\t});\n\n\treturn stateChanges;\n}\n\nconst generatePacManPath = (mouthAngle: number) => {\n\tconst radius = CELL_SIZE / 2;\n\tconst startAngle = mouthAngle;\n\tconst endAngle = 2 * Math.PI - mouthAngle;\n\n\treturn `M ${radius},${radius}\n            L ${radius + radius * Math.cos(startAngle)},${radius + radius * Math.sin(startAngle)}\n            A ${radius},${radius} 0 1,1 ${radius + radius * Math.cos(endAngle)},${radius + radius * Math.sin(endAngle)}\n            Z`;\n};\n\nconst generatePacManPositions = (store: StoreType): string[] => {\n\treturn store.gameHistory.map((state) => {\n\t\tconst x = state.pacman.x * (CELL_SIZE + GAP_SIZE);\n\t\tconst y = state.pacman.y * (CELL_SIZE + GAP_SIZE) + 15;\n\t\treturn `${x},${y}`;\n\t});\n};\n\nconst generatePacManRotations = (store: StoreType): string[] => {\n\tconst pivit = CELL_SIZE / 2;\n\treturn store.gameHistory.map((state) => {\n\t\tswitch (state.pacman.direction) {\n\t\t\tcase 'right':\n\t\t\t\treturn `0 ${pivit} ${pivit}`;\n\t\t\tcase 'left':\n\t\t\t\treturn `180 ${pivit} ${pivit}`;\n\t\t\tcase 'up':\n\t\t\t\treturn `270 ${pivit} ${pivit}`;\n\t\t\tcase 'down':\n\t\t\t\treturn `90 ${pivit} ${pivit}`;\n\t\t\tdefault:\n\t\t\t\treturn `0 ${pivit} ${pivit}`;\n\t\t}\n\t});\n};\n\nconst generateCellColorValues = (store: StoreType, x: number, y: number): string[] => {\n\treturn store.gameHistory.map((state) => state.grid[x][y].color);\n};\n\nconst generateGhostPositions = (store: StoreType, ghostIndex: number): string[] => {\n\treturn store.gameHistory.map((state) => {\n\t\tif (ghostIndex >= state.ghosts.length) {\n\t\t\treturn '0,0'; // Default value for cases where the ghost does not exist\n\t\t}\n\t\tconst ghost = state.ghosts[ghostIndex];\n\t\tconst x = ghost.x * (CELL_SIZE + GAP_SIZE);\n\t\tconst y = ghost.y * (CELL_SIZE + GAP_SIZE) + 15;\n\t\treturn `${x},${y}`;\n\t});\n};\n\nconst generateGhostsPredefinition = () => {\n\tlet defs = `<defs>`;\n\n\t// For every regular ghost\n\t['blinky', 'inky', 'pinky', 'clyde'].forEach((ghostName) => {\n\t\t// For each direction\n\t\t['up', 'down', 'left', 'right'].forEach((direction) => {\n\t\t\tconst ghostObj = GHOSTS[ghostName as GhostName] as Record<string, string>;\n\n\t\t\tif (direction in ghostObj) {\n\t\t\t\tdefs += `\n                <symbol id=\"ghost-${ghostName}-${direction}\" viewBox=\"0 0 ${CELL_SIZE} ${CELL_SIZE}\">\n                    <image href=\"${ghostObj[direction]}\" width=\"${CELL_SIZE}\" height=\"${CELL_SIZE}\"/>\n                </symbol>\n                `;\n\t\t\t}\n\t\t});\n\t});\n\n\t// Add the scared ghost\n\tdefs += `\n    <symbol id=\"ghost-scared\" viewBox=\"0 0 ${CELL_SIZE} ${CELL_SIZE}\">\n        <image href=\"${(GHOSTS['scared'] as { imgDate: string }).imgDate}\" width=\"${CELL_SIZE}\" height=\"${CELL_SIZE}\"/>\n    </symbol>`;\n\n\t// Add ghost eyes (for each direction)\n\t['up', 'down', 'left', 'right'].forEach((direction) => {\n\t\tif (GHOSTS['eyes'] && direction in (GHOSTS['eyes'] as Record<string, string>)) {\n\t\t\tconst eyesObj = GHOSTS['eyes'] as Record<string, string>;\n\t\t\tdefs += `\n            <symbol id=\"ghost-eyes-${direction}\" viewBox=\"0 0 ${CELL_SIZE} ${CELL_SIZE}\">\n                <image href=\"${eyesObj[direction]}\" width=\"${CELL_SIZE}\" height=\"${CELL_SIZE}\"/>\n            </symbol>\n            `;\n\t\t} else {\n\t\t\t// Fallback if direction is not set\n\t\t\tconsole.warn(`Imagem para eyes-${direction} no encontrada, usando placeholder`);\n\t\t\tdefs += `\n            <symbol id=\"ghost-eyes-${direction}\" viewBox=\"0 0 ${CELL_SIZE} ${CELL_SIZE}\">\n                <circle cx=\"${CELL_SIZE / 2}\" cy=\"${CELL_SIZE / 2}\" r=\"${CELL_SIZE / 3}\" fill=\"white\"/>\n            </symbol>\n            `;\n\t\t}\n\t});\n\n\tdefs += `</defs>`;\n\treturn defs;\n};\n\nconst generateChangingValuesAnimation = (store: StoreType, changingValues: string[]): AnimationData => {\n\tif (store.gameHistory.length !== changingValues.length) {\n\t\tthrow new Error(\n\t\t\t`The amount of values (${changingValues.length}) does not match the size of the game history (${store.gameHistory.length})`\n\t\t);\n\t}\n\n\tconst totalFrames = store.gameHistory.length;\n\tif (totalFrames === 0) {\n\t\treturn { keyTimes: '0;1', values: changingValues[0] || '#000;#000' };\n\t}\n\n\tlet keyTimes: number[] = [];\n\tlet values: string[] = [];\n\tlet lastValue: string | null = null;\n\tlet lastIndex: number | null = null;\n\n\tchangingValues.forEach((currentValue, index) => {\n\t\tif (currentValue !== lastValue) {\n\t\t\tif (lastValue !== null && lastIndex !== null && index - 1 !== lastIndex) {\n\t\t\t\t// Add a keyframe right before the value change\n\t\t\t\tkeyTimes.push(Number(((index - 1 / (10 * SVG_KEY_TIMES_PRECISION)) / (totalFrames - 1)).toFixed(SVG_KEY_TIMES_PRECISION)));\n\t\t\t\tvalues.push(lastValue);\n\t\t\t}\n\t\t\t// Add the new value keyframe\n\t\t\tkeyTimes.push(Number((index / (totalFrames - 1)).toFixed(SVG_KEY_TIMES_PRECISION)));\n\t\t\tvalues.push(currentValue);\n\t\t\tlastValue = currentValue;\n\t\t\tlastIndex = index;\n\t\t}\n\t});\n\n\t// Ensure the last frame is always included\n\tif (keyTimes.length === 0 || keyTimes[keyTimes.length - 1] !== 1) {\n\t\t// If there are no keyframes, add start and end frames\n\t\tif (keyTimes.length === 0) {\n\t\t\tkeyTimes.push(0, 1);\n\t\t\tvalues.push(changingValues[0] || '#000', changingValues[changingValues.length - 1] || '#000');\n\t\t} else {\n\t\t\tkeyTimes.push(1);\n\t\t\tvalues.push(lastValue || changingValues[changingValues.length - 1] || '#000');\n\t\t}\n\t}\n\n\treturn {\n\t\tkeyTimes: keyTimes.join(';'),\n\t\tvalues: values.join(';')\n\t};\n};\n\nexport const SVG = {\n\tgenerateAnimatedSVG\n};\n","export type Point2d = {\n\tx: number;\n\ty: number;\n\tdirection?: 'right' | 'left' | 'up' | 'down';\n};\n\nexport type ContributionLevel = 'NONE' | 'FIRST_QUARTILE' | 'SECOND_QUARTILE' | 'THIRD_QUARTILE' | 'FOURTH_QUARTILE';\n\nexport interface Contribution {\n\tdate: Date;\n\tcount: number;\n\tcolor: string; // hex color that GitHub returns (light theme)\n\tlevel: ContributionLevel; // bucket calculated by GitHub\n}\n\nexport enum PlayerStyle {\n\tCONSERVATIVE = 'conservative',\n\tAGGRESSIVE = 'aggressive',\n\tOPPORTUNISTIC = 'opportunistic'\n}\n\n/*  Pac-Man & Ghosts  */\nexport interface Pacman {\n\tx: number;\n\ty: number;\n\tdirection: 'right' | 'left' | 'up' | 'down';\n\tpoints: number;\n\ttotalPoints: number;\n\tdeadRemainingDuration: number;\n\tpowerupRemainingDuration: number;\n\trecentPositions: string[];\n\ttarget?: Point2d;\n}\n\nexport type GhostName = 'blinky' | 'clyde' | 'inky' | 'pinky' | 'eyes';\n\nexport interface Ghost {\n\tx: number;\n\ty: number;\n\tname: GhostName;\n\toriginalName?: GhostName;\n\tscared: boolean;\n\tdirection: 'right' | 'left' | 'up' | 'down';\n\ttarget?: Point2d;\n\tinHouse: boolean;\n\trespawnCounter: number; // Time to respawn after reaches home\n\tfreezeCounter: number; // Time ghost stays in base before going out\n\tjustReleasedFromHouse: boolean; // If ghost just released from house, it can only walk thru the house door\n}\n\n/*  Grid & Store  */\nexport interface GridCell {\n\tcommitsCount: number;\n\tcolor: string; // color ready to render\n\tlevel: ContributionLevel;\n}\n\nexport interface StoreType {\n\tframeCount: number;\n\tcontributions: Contribution[];\n\tpacman: Pacman;\n\tghosts: Ghost[];\n\tgrid: GridCell[][]; // [week][day]\n\tmonthLabels: string[];\n\tpacmanMouthOpen: boolean;\n\tgameInterval: number;\n\tgameHistory: {\n\t\tpacman: Pacman;\n\t\tghosts: Ghost[];\n\t\tgrid: GridCell[][];\n\t}[];\n\tconfig: Config;\n\tuseGithubThemeColor: boolean;\n}\n\n/*  Settings  */\nexport interface Config {\n\tplatform: 'github' | 'gitlab';\n\tusername: string;\n\tcanvas: HTMLCanvasElement;\n\toutputFormat: 'canvas' | 'svg';\n\tsvgCallback: (blobUrl: string) => void;\n\tgameOverCallback: () => void;\n\tgameTheme: ThemeKeys;\n\tgameSpeed: number;\n\tenableSounds: boolean;\n\tpointsIncreasedCallback: (pointsSum: number) => void;\n\tgithubSettings?: {\n\t\taccessToken: string; // required for GraphQL\n\t};\n\tmaxFrames?: number; // Maximum frame rate for the game\n\tmaxHistorySize?: number;\n\tplayerStyle: PlayerStyle;\n}\n\n/*  Themes  */\nexport type ThemeKeys = 'github' | 'github-dark' | 'gitlab' | 'gitlab-dark';\n\nexport interface GameTheme {\n\ttextColor: string;\n\tgridBackground: string;\n\twallColor: string;\n\tintensityColors: string[]; // 5 cores (NONE  FOURTH)\n}\n\n/*  SVG Animation helper  */\nexport interface AnimationData {\n\tkeyTimes: string;\n\tvalues: string;\n}\n","import { GRID_HEIGHT, GRID_WIDTH, setWall } from '../core/constants';\n\nconst setSymmetricWall = (x: number, y: number, direction: 'horizontal' | 'vertical', sym: '' | 'x' | 'y' | 'xy', lineId: string) => {\n\tif (direction == 'horizontal') {\n\t\tsetWall(x, y, 'horizontal', lineId);\n\t\tif (sym == 'x') {\n\t\t\tsetWall(GRID_WIDTH - x - 1, y, 'horizontal', lineId);\n\t\t} else if (sym == 'y') {\n\t\t\tsetWall(x, GRID_HEIGHT - y, 'horizontal', lineId);\n\t\t} else if (sym == 'xy') {\n\t\t\tsetWall(GRID_WIDTH - x - 1, y, 'horizontal', lineId);\n\t\t\tsetWall(x, GRID_HEIGHT - y, 'horizontal', lineId);\n\t\t\tsetWall(GRID_WIDTH - x - 1, GRID_HEIGHT - y, 'horizontal', lineId);\n\t\t}\n\t} else {\n\t\tsetWall(x, y, 'vertical', lineId);\n\t\tif (sym == 'x') {\n\t\t\tsetWall(GRID_WIDTH - x, y, 'vertical', lineId);\n\t\t} else if (sym == 'y') {\n\t\t\tsetWall(x, GRID_HEIGHT - y - 1, 'vertical', lineId);\n\t\t} else if (sym == 'xy') {\n\t\t\tsetWall(GRID_WIDTH - x, y, 'vertical', lineId);\n\t\t\tsetWall(x, GRID_HEIGHT - y - 1, 'vertical', lineId);\n\t\t\tsetWall(GRID_WIDTH - x, GRID_HEIGHT - y - 1, 'vertical', lineId);\n\t\t}\n\t}\n};\n\nconst buildWalls = () => {\n\tsetSymmetricWall(0, 2, 'horizontal', 'xy', 'L1');\n\tsetSymmetricWall(1, 2, 'horizontal', 'xy', 'L1');\n\t//setSymmetricWall(4, 0, 'vertical', 'x', 'L2');\n\tsetSymmetricWall(4, 1, 'vertical', 'x', 'L2');\n\tsetSymmetricWall(4, 2, 'vertical', 'x', 'L2');\n\tsetSymmetricWall(4, 3, 'vertical', 'x', 'L2');\n\tsetSymmetricWall(4, 4, 'vertical', 'x', 'L2');\n\tsetSymmetricWall(3, 3, 'horizontal', 'x', 'L3');\n\tsetSymmetricWall(2, 3, 'horizontal', 'x', 'L3');\n\tsetSymmetricWall(4, 5, 'horizontal', 'x', 'L4');\n\tsetSymmetricWall(6, 4, 'vertical', 'x', 'L5');\n\tsetSymmetricWall(6, 3, 'vertical', 'x', 'L5');\n\tsetSymmetricWall(6, 2, 'vertical', 'x', 'L5');\n\tsetSymmetricWall(6, 2, 'horizontal', 'x', 'L6');\n\tsetSymmetricWall(7, 2, 'horizontal', 'x', 'L6');\n\tsetSymmetricWall(8, 2, 'horizontal', 'x', 'L6');\n\tsetSymmetricWall(9, 2, 'horizontal', 'x', 'L6');\n\tsetSymmetricWall(13, 2, 'horizontal', 'xy', 'L7');\n\tsetSymmetricWall(14, 2, 'horizontal', 'xy', 'L7');\n\tsetSymmetricWall(15, 2, 'horizontal', 'xy', 'L7');\n\tsetSymmetricWall(16, 2, 'horizontal', 'xy', 'L7');\n\tsetSymmetricWall(17, 2, 'horizontal', 'xy', 'L7');\n\tsetSymmetricWall(18, 2, 'horizontal', 'xy', 'L7');\n\tsetSymmetricWall(16, 2, 'vertical', 'xy', 'L8');\n\tsetSymmetricWall(8, 1, 'horizontal', 'x', 'L9');\n\tsetSymmetricWall(9, 1, 'horizontal', 'x', 'L9');\n\tsetSymmetricWall(10, 1, 'horizontal', 'x', 'L9');\n\tsetSymmetricWall(11, 1, 'horizontal', 'x', 'L9');\n\tsetSymmetricWall(12, 1, 'vertical', 'x', 'L10');\n\tsetSymmetricWall(12, 3, 'vertical', 'x', 'L10');\n\tsetSymmetricWall(11, 4, 'horizontal', 'x', 'L11');\n\tsetSymmetricWall(10, 4, 'horizontal', 'x', 'L11');\n\tsetSymmetricWall(9, 4, 'horizontal', 'x', 'L11');\n\tsetSymmetricWall(8, 4, 'horizontal', 'x', 'L11');\n\tsetSymmetricWall(8, 4, 'vertical', 'x', 'L12');\n\tsetSymmetricWall(8, 5, 'vertical', 'x', 'L12');\n\t//setSymmetricWall(8, 6, 'vertical', 'x', 'L12');\n\t// setSymmetricWall(23, 2, 'horizontal', 'x', 'L13');\n\t// setSymmetricWall(24, 2, 'horizontal', 'x', 'L13');\n\t// setSymmetricWall(23, 4, 'horizontal', 'x', 'L13');\n\t// setSymmetricWall(24, 4, 'horizontal', 'x', 'L13');\n\t// setSymmetricWall(25, 4, 'horizontal', 'x', 'L13');\n\t// setSymmetricWall(23, 2, 'vertical', 'x', 'L14');\n\t// setSymmetricWall(23, 3, 'vertical', 'x', 'L14');\n\t// setSymmetricWall(26, 4, 'vertical', 'x', 'L15');\n\t// setSymmetricWall(26, 5, 'vertical', 'x', 'L15');\n\t// setSymmetricWall(23, 6, 'horizontal', 'x', 'L16');\n\t// setSymmetricWall(24, 6, 'horizontal', 'x', 'L16');\n\t// setSymmetricWall(25, 6, 'horizontal', 'x', 'L16');\n\t// setSymmetricWall(26, 0, 'vertical', 'x', 'L17');\n\t// setSymmetricWall(24, 1, 'vertical', 'x', 'L18');\n\tsetSymmetricWall(23, 1, 'horizontal', 'x', 'L18');\n\tsetSymmetricWall(22, 1, 'horizontal', 'x', 'L18');\n\tsetSymmetricWall(21, 1, 'horizontal', 'x', 'L18');\n\tsetSymmetricWall(21, 1, 'vertical', 'x', 'L18');\n\tsetSymmetricWall(21, 2, 'vertical', 'x', 'L18');\n\tsetSymmetricWall(21, 3, 'vertical', 'x', 'L18');\n\tsetSymmetricWall(20, 4, 'horizontal', 'x', 'L18');\n\tsetSymmetricWall(19, 4, 'horizontal', 'x', 'L18');\n\tsetSymmetricWall(19, 3, 'vertical', 'x', 'L18');\n\tsetSymmetricWall(18, 3, 'horizontal', 'x', 'L18');\n\tsetSymmetricWall(22, 5, 'vertical', 'x', 'L19');\n\tsetSymmetricWall(21, 5, 'horizontal', 'x', 'L19');\n\tsetSymmetricWall(20, 5, 'horizontal', 'x', 'L19');\n\tsetSymmetricWall(20, 5, 'vertical', 'x', 'L19');\n\tsetSymmetricWall(1, 6, 'horizontal', 'x', 'L20');\n\tsetSymmetricWall(2, 6, 'horizontal', 'x', 'L20');\n\t//setSymmetricWall(3, 5, 'vertical', 'x', 'L20');\n\tsetSymmetricWall(3, 4, 'vertical', 'x', 'L20');\n\tsetSymmetricWall(5, 6, 'horizontal', 'x', 'L21');\n\tsetSymmetricWall(6, 6, 'horizontal', 'x', 'L21');\n\n\t// Ghost House\n\tsetWall(25, 2, 'horizontal', 'GH_TOP');\n\tsetWall(27, 2, 'horizontal', 'GH_TOP');\n\tsetWall(25, 4, 'horizontal', 'GH_BOTTOM');\n\tsetWall(26, 4, 'horizontal', 'GH_BOTTOM');\n\tsetWall(27, 4, 'horizontal', 'GH_BOTTOM');\n\tsetWall(25, 3, 'vertical', 'GH_LEFT');\n\tsetWall(28, 3, 'vertical', 'GH_RIGHT');\n\tsetWall(25, 2, 'vertical', 'GH_LEFT');\n\tsetWall(28, 2, 'vertical', 'GH_RIGHT');\n};\n\nexport const Grid = {\n\tbuildWalls\n};\n","import { GAME_THEMES, GRID_HEIGHT, GRID_WIDTH } from '../core/constants';\nimport type { ContributionLevel, GameTheme, StoreType } from '../types';\n\n/*  Helpers  */\nconst weeksBetween = (start: Date, end: Date) => Math.floor((end.getTime() - start.getTime()) / (7 * 24 * 60 * 60 * 1000));\n\nconst truncateToUTCDate = (d: Date) => new Date(Date.UTC(d.getUTCFullYear(), d.getUTCMonth(), d.getUTCDate()));\n\n/*  Theme and helpers  */\nexport const getCurrentTheme = (store: StoreType): GameTheme => GAME_THEMES[store.config.gameTheme] ?? GAME_THEMES['github'];\n\nexport const levelToIndex = (level: ContributionLevel): number => {\n\tswitch (level) {\n\t\tcase 'NONE':\n\t\t\treturn 0;\n\t\tcase 'FIRST_QUARTILE':\n\t\t\treturn 1;\n\t\tcase 'SECOND_QUARTILE':\n\t\t\treturn 2;\n\t\tcase 'THIRD_QUARTILE':\n\t\t\treturn 3;\n\t\tcase 'FOURTH_QUARTILE':\n\t\t\treturn 4;\n\t\tdefault:\n\t\t\treturn 0;\n\t}\n};\n\nexport const calculateContributionLevel = (contribution: number, maxContribution: number): ContributionLevel => {\n\tconst q = maxContribution / 4;\n\n\tif (contribution === 0) {\n\t\treturn 'NONE';\n\t} else if (contribution < q) {\n\t\treturn 'FIRST_QUARTILE';\n\t} else if (contribution < 2 * q) {\n\t\treturn 'SECOND_QUARTILE';\n\t} else if (contribution < 3 * q) {\n\t\treturn 'THIRD_QUARTILE';\n\t} else {\n\t\treturn 'FOURTH_QUARTILE';\n\t}\n};\n\nexport const buildGrid = (store: StoreType) => {\n\tconst endDate = truncateToUTCDate(new Date());\n\tconst startDate = new Date(endDate);\n\tstartDate.setUTCDate(endDate.getUTCDate() - 365);\n\tstartDate.setUTCDate(startDate.getUTCDate() - startDate.getUTCDay());\n\n\tconst realWidth = 53;\n\tconst grid = Array.from({ length: realWidth }, () =>\n\t\tArray.from({ length: GRID_HEIGHT }, () => ({\n\t\t\tcommitsCount: 0,\n\t\t\tcolor: getCurrentTheme(store).intensityColors[0],\n\t\t\tlevel: 'NONE' as ContributionLevel\n\t\t}))\n\t);\n\n\tstore.contributions.forEach((c) => {\n\t\tconst date = truncateToUTCDate(new Date(c.date));\n\t\tif (date < startDate || date > endDate) return;\n\n\t\tconst day = date.getUTCDay();\n\t\tconst week = weeksBetween(startDate, date);\n\n\t\tif (week >= 0 && week < realWidth) {\n\t\t\tconst theme = getCurrentTheme(store);\n\t\t\tgrid[week][day] = {\n\t\t\t\tcommitsCount: c.count,\n\t\t\t\tcolor: theme.intensityColors[levelToIndex(c.level)],\n\t\t\t\tlevel: c.level\n\t\t\t};\n\t\t}\n\t});\n\n\tstore.grid = grid;\n};\n\nexport const buildMonthLabels = (store: StoreType) => {\n\tconst endDate = truncateToUTCDate(new Date());\n\tconst startDate = new Date(endDate);\n\tstartDate.setUTCDate(endDate.getUTCDate() - 365);\n\tstartDate.setUTCDate(startDate.getUTCDate() - startDate.getUTCDay());\n\n\tconst realWidth = weeksBetween(startDate, endDate) + 1;\n\tconst labels = Array(realWidth).fill('');\n\n\tlet lastMonth = '';\n\n\tfor (let week = 0; week < realWidth; week++) {\n\t\tconst date = new Date(startDate);\n\t\tdate.setUTCDate(date.getUTCDate() + week * 7);\n\n\t\tconst currentMonth = date.toLocaleString('default', { month: 'short' });\n\n\t\t// Only enter the name if it has changed month in relation to the last one\n\t\tif (currentMonth !== lastMonth) {\n\t\t\tlabels[week] = currentMonth;\n\t\t\tlastMonth = currentMonth;\n\t\t}\n\t}\n\n\tstore.monthLabels = realWidth > GRID_WIDTH ? labels.slice(realWidth - GRID_WIDTH) : labels;\n};\n\nexport const createGridFromData = (store: StoreType) => {\n\tbuildGrid(store);\n\treturn store.grid;\n};\n\nexport const Utils = {\n\tgetCurrentTheme,\n\tbuildGrid,\n\tbuildMonthLabels,\n\tcreateGridFromData,\n\tlevelToIndex\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { Game } from './core/game';\nimport { Store } from './core/store';\nimport { Providers } from './providers/providers';\nimport { Config, PlayerStyle, StoreType } from './types';\nimport { Grid } from './utils/grid';\nimport { Utils } from './utils/utils';\n\nexport class PacmanRenderer {\n\tstore!: StoreType;\n\tconf: Config;\n\n\tconstructor(conf: Config) {\n\t\tthis.conf = { ...conf };\n\t}\n\n\tpublic async start() {\n\t\tconst defaultConfig: Config = {\n\t\t\tplatform: 'github',\n\t\t\tusername: '',\n\t\t\tcanvas: undefined as unknown as HTMLCanvasElement,\n\t\t\toutputFormat: 'svg',\n\t\t\tsvgCallback: (_: string) => {},\n\t\t\tgameOverCallback: () => {},\n\t\t\tgameTheme: 'github',\n\t\t\tgameSpeed: 1,\n\t\t\tenableSounds: false,\n\t\t\tpointsIncreasedCallback: (_: number) => {},\n\t\t\tgithubSettings: { accessToken: '' },\n\t\t\tplayerStyle: PlayerStyle.OPPORTUNISTIC\n\t\t};\n\n\t\t// Reset the store on each call to start()\n\t\tthis.store = JSON.parse(JSON.stringify(Store));\n\t\tthis.store.config = { ...defaultConfig, ...this.conf };\n\n\t\tswitch (this.store.config.platform) {\n\t\t\tcase 'gitlab':\n\t\t\t\tthis.store.contributions = await Providers.fetchGitlabContributions(this.store);\n\t\t\t\tbreak;\n\t\t\tcase 'github':\n\t\t\t\tthis.store.contributions = await Providers.fetchGithubContributions(this.store);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow new Error(`Unsupported platform: ${this.store.config.platform}`);\n\t\t}\n\n\t\tGrid.buildWalls();\n\t\tUtils.buildGrid(this.store);\n\t\tUtils.buildMonthLabels(this.store);\n\n\t\tawait Game.startGame(this.store);\n\t\treturn this.store;\n\t}\n\n\tpublic stop() {\n\t\tGame.stopGame(this.store);\n\t}\n}\n"],"names":[],"sourceRoot":""}